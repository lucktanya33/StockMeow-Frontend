{"version":3,"sources":["context.js","utils.js","Header.js","StyleComponents.js","pages/DiscussPage.js","pages/SearchPage.js","pages/ProfilePage.js","pages/RegisterPage.js","pages/LoginPage.js","App.js","reportWebVitals.js","index.js"],"names":["AuthContext","createContext","FavContext","Fav2Context","InfoContext","API_PRODUCTION","today","Date","latestTime","toLocaleDateString","HeaderContainer","styled","div","props","theme","colors","grey","NavbarList","LeftContainer","Nav","Link","$active","darkBlue","Brand","darkGrey","LoginHint","LogOut","Header","location","useLocation","useContext","user","setUser","setMyFav2","myFav2","Axios","defaults","withCredentials","to","username","pathname","onClick","get","then","response","console","log","TitlePage","h1","Input","input","InputTitle","ButtonSubmit","button","ButtonSmall","TargetWrap","TargetHeader","TargetName","span","Time","TargetInfo","Info","Example","keyframes","ErrorHint","vividBlue","SucceedHint","Page","MessageForm","form","TitleInput","textarea","BodyInput","MessageList","MessageContainer","MessageHead","MessageAuthor","MessageTime","MessageTitle","MessageBody","Loading","Message","id","author","time","title","content","HomePage","useState","isSubmitting","setIsSubmitting","messages","setMessages","inputTitle","setInputTitle","inputBody","setInputBody","status","type","message","error","setError","useEffect","updateMessages","timer2","setTimeout","clearTimeout","data","catch","err","handleTextareaFocus","onSubmit","post","rows","placeholder","value","onChange","e","target","onFocus","map","body","createdAt","toLocaleString","SearchArea","SearchInput","SearchButton","ButtonCompare","HotStockPage","LoadingPage","setLoadingPage","isInfoLoaded","setIsInfoLoaded","stockSearching","setStockSearching","Code","Name","ClosingPrice","MonthlyAveragePrice","PE","Dividend","targetInfo","setTargetInfo","searchFail","setSearchFail","searchDelay","setSearchDelay","errorCompare","setErrorCompare","errorAddFav","setErrorAddFav","actionSucceed","setActionSucceed","name","price","comparedTarget","setComparedTarget","infoCompleted","setInfoCompleted","useRef","timer","preventDefault","searchingResult","filter","item","length","stockCode","resetMyFav2","headers","current","ProfilePage","myFav","setMyFav","myFavInfo","setMyFavInfo","isLoaded","setIsLoaded","myFavProcessing","forEach","element","stock_code","push","LoginPage","usernameReg","setUsernameReg","passwordReg","setPasswordReg","className","password","setUsername","setPassword","setErrorGetFav","setUserFE","getFav2","clearErrorHint","Root","GlobalStyle","createGlobalStyle","App","stockInfoPrice","setStockInfoPrice","stockInfoPE","setStockInfoPE","loaded","setLoaded","getInfo","getFav","favStockData","organizeInfo","fetch","json","dataPrice","stock_new","toArray","Object","values","stock_pe","infoProcessing","i","x","PEratio","DividendYield","Provider","exact","path","DiscussPage","SearchPage","RegisterPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2793ba9a.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);\nexport const FavContext = createContext([])\nexport const Fav2Context = createContext([])\nexport const InfoContext = createContext([])","// API-網站系統\nexport  const API_LOCAL = \"http://localhost:3001\"\nexport const API_PRODUCTION = \"https://lit-earth-99012.herokuapp.com\"\n\n// API-股票資訊\nexport const API_STOCK_LOCAL = \"http://192.168.64.4/api_stock\"\nexport const API_STOCK_REMOTE = \"http://mentor-program.co/mtr04group1/lucktanya33/stock\"\n\n// API-股票資訊HEROKU\nexport const API_HEROKU_PRICE = \"https://secure-brook-06568.herokuapp.com/\"\nexport const API_HEROKU_PE = \"https://tranquil-thicket-64578.herokuapp.com/\"\n\n// 最新股票時間\nconst today = new Date()\nconst countYesterday = today - 1000*60*60*24\nconst yesterday = new Date(countYesterday)\nexport const latestTime = yesterday.toLocaleDateString()","import { useContext } from \"react\"\nimport Axios from \"axios\";\nimport styled from \"styled-components\"\nimport { Link, useLocation } from \"react-router-dom\";\nimport { AuthContext, Fav2Context } from './context'\nimport { API_LOCAL, API_PRODUCTION } from \"./utils\";\n\n// styles\nconst HeaderContainer = styled.div`\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  background-color:${props => props.theme.colors.grey};\n  box-sizing: border-box;\n`\nconst NavbarList = styled.div`\n  display: flex;\n  align-items: center;\n`\nconst LeftContainer = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${NavbarList} {\n    margin-left: 64px;\n  }\n`\nconst Nav = styled(Link)`\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  font-size: 16px;\n\n  ${(props) => \n    props.$active && \n    `\n    background: ${props => props.theme.colors.darkBlue};\n    `}\n`\n\nconst Brand = styled(Link)`\n  width: 120px;\n  padding: 10px; \n  font-size: 26px;\n  font-weight: bold;\n  color: ${props => props.theme.colors.darkGrey};\n  text-decoration: none;\n\n`\nconst LoginHint = styled.div`\n  width: 24%;\n  padding: 5px; \n  height: 40px;\n  color: ${props => props.theme.colors.darkBlue};\n  font-size: 14px;\n  font-weight: bolder;\n  box-sizing: border-box;\n`\nconst LogOut = styled.div`\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  font-size: 16px;\n\n  ${(props) => \n    props.$active && \n    `\n    background: ${props => props.theme.colors.darkBlue};\n    `}\n`\n\nfunction Header() {\n  // React router USAGE\n  const location = useLocation()//location.pathname可以知道現在點擊的路徑\n  const { user, setUser } = useContext(AuthContext)\n  const { myFav2, setMyFav2 } = useContext(Fav2Context)\n\n  Axios.defaults.withCredentials = true\n  \n  // functions\n  const handleLogOut = () => {\n    setUser(null)\n    Axios.get(`${API_PRODUCTION}/logout`)\n    .then((response) => {\n      console.log('GET LOGOUT', response)\n      setMyFav2([])\n    })\n  }\n  return (\n    <HeaderContainer>\n    <LeftContainer>\n    <Brand to=\"/\">玩股喵</Brand>\n    <LoginHint>\n    {user ? ('Hi '+ user.username) : \"請登入\"}\n    </LoginHint>\n    </LeftContainer>\n    <NavbarList>\n      <Nav to=\"/\" $active={location.pathname === '/'}>討論</Nav>\n      <Nav to=\"/search\" $active={location.pathname === '/search'}>查詢</Nav>\n      {!user && (\n        <Nav to=\"/register\" $active={location.pathname === '/register'}>註冊</Nav>\n      )}      \n      {!user && (\n        <Nav to=\"/login\" $active={location.pathname === '/login'}>登入</Nav>\n      )}\n      {user && (       \n      <Nav to=\"/profile\" $active={location.pathname === '/profile'}>個人</Nav>\n      )}      \n      {user && (       \n        <LogOut onClick={handleLogOut}>登出</LogOut>\n      )}\n    </NavbarList>\n    </HeaderContainer>\n  )\n}\n\nexport default Header;\n","import styled from \"styled-components\"\nimport { keyframes } from \"styled-components\"\nexport const TitlePage = styled.h1`\ncolor: ${props => props.theme.colors.darkGrey};\nmargin: 30px;\n`\n\nexport const Input = styled.input`\nwidth: 75%;\nheight: 50px;\nmargin: 0px 3px 8px 3px;\nfont-size: 20px;\nborder: 0px;\nborder-radius: 8px;\n`\nexport const InputTitle = styled.div`\ndisplay: flex;\njustify-content: center;\nwidth: 75%;\nheight: 40px;\nmargin: 0 auto;\nfont-size: 20px;\nfont-weight: bolder;\nborder: 0px;\nborder-radius: 8px;\ncolor: ${props => props.theme.colors.darkGrey};\n`\n\nexport const ButtonSubmit = styled.button`\nwidth: 78%;\nmargin: 40px 2px 20px 2px;\nheight: 50px;\nborder-radius: 8px;\ntext-align: center;\ncursor: pointer;\ncolor: white;\nfont-size: 20px;\nfont-weight: bolder;\nborder: 0px;\nbackground-color: ${props => props.theme.colors.darkBlue};\n\n: hover {\n  color: ${props => props.theme.colors.darkBlue};\n  background-color: white;\n}\n`\nexport const ButtonSmall = styled.button`\ncursor: pointer;\nwidth: 30%;\nmargin: 0px 5px 10px 5px;\nheight: 35px;\nborder-radius: 8px;\ntext-align: center;\ncursor: pointer;\ncolor: white;\nfont-weight: bolder;\nborder: none;\nbackground-color: ${props => props.theme.colors.darkBlue};\n`\n// stock info card\nexport const TargetWrap = styled.div`\n  width: 100%;\n  margin-top: 20px;\n  padding: 10px;\n  border-radius: 8px;\n  background-color: white;\n  box-sizing: border-box;\n`\nexport const TargetHeader = styled.div`\n  display: flex;\n  width: 100%;\n  padding: 5px;\n  box-sizing: border-box;\n`\nexport const TargetName = styled.span`\n  width: 60%;\n  padding: 0px 5px 0px 5px;\n  font-size : 28px;\n  font-weight: bold;\n  color: black;\n`\nexport const Time = styled.span`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 40%;\n  font-size: 14px;\n`\nexport const TargetInfo = styled.div`\n  padding: 0px 5px 0px 5px;\n  display: flex;\n  justify-content: space-around;\n`\nexport const Info = styled.div`\n`\n\n// animation \nexport const Example = keyframes`\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n`\nexport const ErrorHint = styled.div`\n  width: 100%;\n  margin-top: 20px;\n  padding: 10px;\n  border-radius: 8px;\n  border: 1px solid white;\n  box-sizing: border-box;\n  background-color: ${props => props.theme.colors.vividBlue};\n  animation: 2s ${Example} ease-out;\n`\nexport const SucceedHint = styled.div`\n  width: 100%;\n  margin-top: 20px;\n  padding: 10px;\n  border-radius: 8px;\n  border: 1px solid white;\n  box-sizing: border-box;\n  background-color: pink;\n  animation: 10s ${Example} ease-out;\n`","import React, { useState, useEffect, useContext } from \"react\"\nimport Axios from \"axios\";\nimport styled, { keyframes } from \"styled-components\"\nimport { API_PRODUCTION } from \"../utils\";\nimport { AuthContext } from \"../context\"\nimport { ButtonSmall, TitlePage, ErrorHint, Example } from \"../StyleComponents\";\n\n// styled components\nconst Page = styled.div`\n  width: 360px;\n  margin: 0 auto;\n`\nconst MessageForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 350px;\n  margin-top: 16px;\n  border-radius: 8px;\n  background-color: white;\n`\nconst TitleInput = styled.textarea`\n  width: 80%;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  border-radius: 8px;\n  border: 1px solid ${props => props.theme.colors.darkGrey};\n  background-color: ${props => props.theme.colors.grey};\n`\nconst BodyInput = styled.textarea`\n  width: 80%;\n  margin-top: 10px;\n  margin-bottom: 20px;\n  border-radius: 8px;\n  background-color: ${props => props.theme.colors.grey};\n`\nconst MessageList = styled.div`\n  margin-top: 16px;\n`\nconst MessageContainer = styled.div`\n  border-radius: 8px;\n  padding: 8px 16px;\n  background-color: white;\n\n  &:not(:first-child) {\n    margin-top: 12px;\n  }\n`\nconst MessageHead = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid lightgrey;\n  padding-bottom: 4px;\n`\nconst MessageAuthor = styled.div`\n  color: black;\n`\nconst MessageTime = styled.div`\n  font-size: 12px;\n`\nconst MessageTitle = styled.div`\n  width: 55%;\n  font-weight: bold;\n  font-size: 20px;\n`\nconst MessageBody = styled.div``\nconst Loading = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n\nfunction Message({ id, author, time, title, content }) {\n  return(\n    <MessageContainer>\n      <MessageHead>\n        <MessageTitle>{title}</MessageTitle>\n        <div>\n        <MessageAuthor>{author}</MessageAuthor>\n        <MessageTime>{time}</MessageTime>\n        </div>\n      </MessageHead>\n      <MessageBody>{content}</MessageBody>\n    </MessageContainer>\n  )\n}\n\nfunction HomePage() {\n  // States\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  // states2 \n  const [messages, setMessages] = useState([])\n  const [inputTitle, setInputTitle] = useState('')\n  const [inputBody, setInputBody] = useState('')\n\n  // States-error\n  const [error, setError] = useState([\n    {status: 0,\n    type: '',\n    message: ''\n    }\n  ])\n  \n  // contexts\n  const { user, setUser } = useContext(AuthContext)\n\n    // useEffect-render 完成之後串 API 拿資料\n    useEffect(() => {\n      updateMessages()\n    }, [])\n\n    // 錯誤提示自動消失\n    useEffect(() => {\n      if(error) {\n        const timer2 = setTimeout(() => {\n          setError([])\n        }, 1800\n        )\n        return () => clearTimeout(timer2);\n      }\n    }, [error])\n    // 清空-非提交中\n    useEffect(() => {\n      if(!isSubmitting) {\n        setInputTitle('')\n        setInputBody('')\n      } else{\n      }\n    }, [isSubmitting])\n  \n  const updateMessages = () => {\n    Axios.get(`${API_PRODUCTION}/posts`)\n    .then((response) => {\n      setMessages(response.data)\n    })\n    .catch((err) => {\n      setError({\n        status: 1,\n        type: 'getRequest',\n        message: `載入留言資料似乎有點狀況：${err.message}`\n      })\n    })\n  }\n\n  const handleFormSubmit = () => {\n    // 錯誤-未登入\n    if (!user) {\n      setError({\n        status: 1,\n        type: 'notUser',\n        message: '你還沒登入!'\n      })\n      return\n    }\n    // 錯誤-空值\n    if (inputBody === '' || inputTitle === '') {\n      setError({\n        status: 1,\n        type: 'empty',\n        message: '請輸入要發表的內容！'\n      })      \n      return\n    }\n    // 提交\n    setIsSubmitting(true)\n    Axios.post(`${API_PRODUCTION}/create-post`, {inputTitle, inputBody})\n    .then((response) => {\n      console.log(response);\n      setIsSubmitting(false)\n      updateMessages()\n    })\n    .catch(err => {\n      setIsSubmitting(false)\n      setError({\n        status: 1,\n        type: 'postRequest',\n        message: `送出留言有點狀況：${err.message}`\n      }) \n    })\n  }\n\n  const handleTextareaFocus = () => {\n    setError([])\n  }\n\n  return (\n    <Page>\n      {isSubmitting && <Loading>正在送出...</Loading>}\n      <TitlePage>發表你對股市的看法</TitlePage>\n      <MessageForm onSubmit={handleFormSubmit}>\n        <TitleInput\n        rows={3}\n        placeholder={\"輸入標題...\"}\n        value={inputTitle}\n        onChange={(e) => {setInputTitle(e.target.value)}}\n        onFocus={handleTextareaFocus}\n        />\n        <BodyInput\n        rows={10}\n        placeholder={\"輸入內容...\"}\n        value={inputBody}\n        onChange={(e) => {setInputBody(e.target.value)}}\n        onFocus={handleTextareaFocus}\n        />\n        <ButtonSmall>送出留言</ButtonSmall>\n      </MessageForm>\n      {error.status == 1 && (\n        <ErrorHint>{error.message}</ErrorHint>\n      )}\n      <MessageList>\n        {messages.map(message => (\n          <Message\n          key={message.id}\n          id={message.id}\n          author={message.username}\n          title={message.title}\n          content={message.body}\n          time={new Date(message.createdAt).toLocaleString()}\n          >\n          {message.body}\n          </Message>\n        ))}\n      </MessageList>\n    </Page>\n  );\n}\n\nexport default HomePage;\n","import { useState, useEffect, useContext, useRef } from 'react'\nimport Axios from 'axios'\nimport styled from \"styled-components\"\nimport { InfoContext, AuthContext, Fav2Context } from \"../context\"\nimport { API_STOCK_LOCAL, API_STOCK_REMOTE, API_HEROKU_PRICE, API_HEROKU_PE, API_LOCAL, API_PRODUCTION, latestTime } from '../utils'\nimport { ButtonSmall } from '../StyleComponents'\nimport { TargetWrap, TargetHeader, TargetName, TargetInfo, Time, Info, ErrorHint, SucceedHint } from '../StyleComponents'\n\nconst Loading = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\nconst Page = styled.div`\n  width: 360px;\n  margin: 0 auto;\n  padding-top: 35px;\n  background-color: ${props => props.theme.colors.grey};\n`\nconst SearchArea = styled.div`\n  width: 100%;\n`\nconst SearchInput = styled.input`\n  width: 75%;\n  height: 50px;\n  margin: 0px 3px 0px 3px;\n  font-size: 20px;\n  border: 0px;\n  border-radius: 8px;\n`\nconst SearchButton = styled.button`\n  width: 13%;\n  margin: 0px 3px 0px 3px;\n  height: 40px;\n  cursor: pointer;\n  color: white;\n  font-weight: bolder;\n  border: none;\n  border-radius: 8px;\n  background-color: ${props => props.theme.colors.darkBlue};\n\n  : hover {\n    background-color: ${props => props.theme.colors.vividBlue};\n  }\n`\nconst ButtonCompare = styled(ButtonSmall)`\n  color: ${props => props.theme.colors.darkBlue};\n  background-color: ${props => props.theme.colors.vividBlue}\n`\nfunction HotStockPage() {\n  // states\n  // 載入頁面\n  const [LoadingPage, setLoadingPage] = useState(true)\n  // 確認載入資料\n  const [isInfoLoaded, setIsInfoLoaded] = useState(false)\n  // 查詢-輸入中\n  const [stockSearching, setStockSearching] = useState(null)\n  // 查詢-結果\n  const [targetInfo, setTargetInfo] = useState([\n    {\n      Code: \"代號\",\n      Name: \"股票名稱\",\n      ClosingPrice: '',\n      MonthlyAveragePrice: '',\n      PE: '',\n      Dividend: ''\n    }\n  ])\n  // 錯誤提醒\n  const [searchFail, setSearchFail] = useState(false)\n  const [searchDelay, setSearchDelay] = useState(false)\n  const [errorCompare, setErrorCompare] = useState(false)\n  const [errorAddFav, setErrorAddFav] = useState(false)\n  // 成功提醒\n  const [actionSucceed, setActionSucceed] = useState(false)\n  // 比較\n  const [comparedTarget, setComparedTarget] = useState([{\n    id: 0,\n    name: null,\n    price: null\n  }])\n\n  // Context\n  const { infoCompleted, setInfoCompleted } = useContext(InfoContext)\n  const { user, setUser } = useContext(AuthContext)\n  const { myFav2, setMyFav2 } = useContext(Fav2Context)\n\n   //設定id\n   const id = useRef(1)\n\n  // useEffect (每次render先串API拿資料存到states)\n  useEffect(() => {\n    if (infoCompleted) {\n      setIsInfoLoaded(true)\n    }\n    const timer = setTimeout(() => {\n      setLoadingPage(false)//拿掉loading畫面\n    }, 4000);\n    return () => clearTimeout(timer);\n  }, [])\n\n  // 兩秒後提示消失-加入追蹤\n  useEffect(() => {\n    if(errorAddFav) {\n      const timer2 = setTimeout(() => {\n        setErrorAddFav(false)\n      }, 1800)\n      return () => clearTimeout(timer2);\n    }\n  }, [errorAddFav])\n\n  // 清除成功提示\n  useEffect(() => {\n    if(actionSucceed) {\n      const timer = setTimeout(() => {\n        setActionSucceed(false)\n      }, 2300);\n      return () => clearTimeout(timer);\n    }\n  }, [actionSucceed])\n\n  const handleSearch = (e) => {\n    e.preventDefault()\n    // 資料未載入完\n    if (!infoCompleted) {\n      setSearchDelay(true)\n      return\n    }\n    // 清空\n    setSearchFail(false)\n    setTargetInfo([])\n    // 查詢邏輯\n    const searchingResult = \n    infoCompleted.filter(item => item.Name == stockSearching || item.Code == stockSearching)\n    const validSearch = (\n      searchingResult.length!== 0\n    )\n    if (validSearch) {\n      setTargetInfo([\n        {\n          Code: searchingResult[0].Code,\n          Name: searchingResult[0].Name,\n          ClosingPrice: searchingResult[0].ClosingPrice,\n          MonthlyAveragePrice: searchingResult[0].MonthlyAveragePrice,\n          PE: searchingResult[0].PE,\n          Dividend: searchingResult[0].Dividend\n        } \n      ])\n    } else {\n      setSearchFail(true)\n    }\n  }\n\n  const clearSearchError = () => {\n    setSearchFail(false)\n    setSearchDelay(false)\n    setStockSearching('')\n  }\n\n  const handleCompare = () => {\n    setErrorCompare(false)\n    // 錯誤-無查詢資料加入比較\n    if(targetInfo[0].Code == \"代號\") {\n      setErrorCompare(true)\n      return\n    }\n    // 預防-重複加入比較\n    const repeat = comparedTarget.filter(item => item.name == targetInfo[0].Name)\n    if(repeat.length > 0) {\n      return\n    }\n    // 加入比較\n    setComparedTarget([\n      {\n        id: id.current,\n        name: targetInfo[0].Name,\n        price: targetInfo[0].ClosingPrice\n\n      }, ...comparedTarget\n    ])\n    id.current++\n  }\n\n  const handleAddFav = () => {\n    // 未登入\n    if(!user) {\n      console.log('登入才能加到最愛')\n      setErrorAddFav(true)\n      return\n    }\n    // 已登入\n    Axios.post(`${API_PRODUCTION}/my-fav`, {\n      username: user.username,\n      stockCode: targetInfo[0].Code\n    }).then(\n      response => {\n        console.log('My fav code added!', response);\n        resetMyFav2()\n      }\n    )\n    \n    const resetMyFav2 = () => {\n      // 重設myFav2\n      Axios.post(`${API_PRODUCTION}/my-fav2`, {\n        username: user.username,\n      }, {\n        headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\n      }).then((response) => {\n        if (response.data.message) {\n          console.log(response.data.message)\n        } else {\n          console.log('post my fav2', response);\n          setMyFav2(response.data)\n          setActionSucceed(true)\n        }\n      })\n    }\n  }\n  return (\n    <div>\n    {LoadingPage && <Loading>正在幫您載入1102檔台股中...</Loading>}\n    {!LoadingPage && (\n    <div> \n    <Page>\n    <SearchArea>\n    <form onSubmit={handleSearch}>\n      <SearchInput\n      placeholder=\"輸入上市股票名稱/代號\"\n      onChange={(e) => setStockSearching(e.target.value)}\n      onFocus={clearSearchError}\n      value={stockSearching}\n      />\n      <SearchButton>查詢</SearchButton>\n    </form>\n    </SearchArea>\n    {searchFail && <h2>無效的查詢，請輸入正確代號或名稱</h2>}\n    {searchDelay && <h2>資料庫有點延遲，再查詢一次！</h2>}\n    {targetInfo && (\n    <TargetWrap>\n      <TargetHeader>\n        <TargetName>\n          {targetInfo.map(item => item.Name)} {targetInfo.map(item => item.Code)}\n        </TargetName>\n        <Time>{\"更新時間 \"}{latestTime}</Time>\n      </TargetHeader>\n        <TargetInfo>\n          <Info>\n            <p>股價</p>\n            <p>{targetInfo.map(item => item.ClosingPrice)}</p>\n          </Info>\n          <Info>\n            <p>月均價</p>\n            <p>{targetInfo.map(item => item.MonthlyAveragePrice)}</p>\n          </Info>\n          <Info>\n            <p>本益比</p>\n            <p>{targetInfo.map(item => item.PE)}</p>\n          </Info>\n          <Info>\n            <p>殖利率</p>\n            <p>{targetInfo.map(item => item.Dividend)}</p>\n          </Info>\n        </TargetInfo>\n        {isInfoLoaded && (\n        <ButtonSmall onClick={handleAddFav}>加入追蹤</ButtonSmall>\n        )}\n        {isInfoLoaded && (\n        <ButtonCompare onClick={handleCompare}>加入比較</ButtonCompare>\n        )}\n    </TargetWrap>\n    )}\n    {errorCompare && <h2>查詢股票後再加入比較！</h2>}\n    {errorAddFav && (\n        <ErrorHint>先登入才能加入最愛！</ErrorHint>\n    )}\n    {actionSucceed && \n    <SucceedHint>成功加入我的最愛!至個人頁面查看</SucceedHint>\n    }\n    {comparedTarget.filter(item => item.id > 0).map(item =>\n      <TargetWrap>\n        <TargetHeader>\n          <TargetName>\n          {item.name} {item.price}\n          </TargetName>\n        </TargetHeader>\n      </TargetWrap>\n    )}\n    </Page>\n    </div>    \n    )}\n    </div>\n  )\n}\nexport default HotStockPage;\n","import { useState, useEffect, useContext, useRef } from 'react'\nimport { FavContext, Fav2Context, InfoContext } from './../context'\nimport { TargetWrap, TargetHeader, TargetName, TargetInfo, Time, Info } from '../StyleComponents'\nimport { latestTime } from '../utils'\n\nfunction ProfilePage() {\n  const { myFav, setMyFav } = useContext(FavContext)\n  const { infoCompleted, setInfoCompleted } = useContext(InfoContext)\n  const { myFav2, setMyFav2 } = useContext(Fav2Context)\n\n  // states\n  const [myFavInfo, setMyFavInfo] = useState([])\n  const [ isLoaded, setIsLoaded] = useState(false)\n\n  let myFavProcessing = []\n  const id = useRef(1)\n\n  useEffect(() => {\n    if(infoCompleted.length > 1000) {\n      setIsLoaded(true)\n    }\n  }, [infoCompleted])\n\n  useEffect(() => {\n    if (isLoaded) {\n    // 拿到喜愛股票的資料\n    myFav2.forEach(element => {\n      infoCompleted.forEach(item => {\n        if (element.stock_code == item.Code) {\n          console.log(item.Code)\n          myFavProcessing.push({\n            id: id.current,\n            Code: item.Code,\n            Name: item.Name,\n            ClosingPrice: item.ClosingPrice,\n            MonthlyAveragePrice: item.MonthlyAveragePrice,\n            PE: item.PE,\n            Dividend: item.Dividend\n          })\n          setMyFavInfo(myFavProcessing)\n          id.current ++\n        }\n      })\n    })\n    }\n  }, [isLoaded])\n\n  useEffect(() => {\n    if (myFav2) {\n    // 拿到喜愛股票的資料\n    myFav2.forEach(element => {\n      infoCompleted.forEach(item => {\n        if (element.stock_code == item.Code) {\n          console.log(item.Code)\n          myFavProcessing.push({\n            id: id.current,\n            Code: item.Code,\n            Name: item.Name,\n            ClosingPrice: item.ClosingPrice,\n            MonthlyAveragePrice: item.MonthlyAveragePrice,\n            PE: item.PE,\n            Dividend: item.Dividend\n          })\n          setMyFavInfo(myFavProcessing)\n          id.current ++\n        }\n      })\n    })\n    }\n  }, [myFav2])  \n  return (\n    <div>\n    <h1>我的最愛股票</h1>\n    {myFavInfo.filter(item => item.id > 0).map(item => \n        <TargetWrap>\n          <TargetHeader>\n            <TargetName>\n              {item.Name} {item.Code}\n            </TargetName>\n            <Time>更新時間 {latestTime}</Time>\n          </TargetHeader>\n            <TargetInfo>\n              <Info>\n                <p>股價</p>\n                <p>{item.ClosingPrice}</p>\n              </Info>\n              <Info>\n                <p>月均價</p>\n                <p>{item.MonthlyAveragePrice}</p>\n              </Info>\n              <Info>\n                <p>本益比</p>\n                <p>{item.PE}</p>\n              </Info>\n              <Info>\n                <p>殖利率</p>\n                <p>{item.Dividend}</p>\n              </Info>              \n            </TargetInfo>\n        </TargetWrap>\n    )\n    }   \n    </div>\n  )\n}\nexport default ProfilePage;\n","import { useState, useEffect, useContext } from 'react'\nimport Axios from 'axios'\nimport { API_LOCAL, API_PRODUCTION } from '../utils'\nimport { AuthContext } from '../context'\nimport { ButtonSubmit, Input, InputTitle, TitlePage, SucceedHint } from '../StyleComponents'\n\nfunction LoginPage() {\nconst [usernameReg, setUsernameReg] = useState([])\nconst [passwordReg, setPasswordReg] = useState([])\nconst [actionSucceed, setActionSucceed] = useState(false)\nconst { user, setUser } = useContext(AuthContext)\n\nAxios.defaults.withCredentials = true\n\nconst handleRegister = () => {\n  Axios.post(`${API_PRODUCTION}/register`, {\n    username: usernameReg,\n    password: passwordReg\n  }).then((response) => {\n    setActionSucceed(true)\n    setPasswordReg('')\n    setUsernameReg('')\n  })\n}\n\n// 拿到登入狀態\nuseEffect(() => {\n  Axios.get(`${API_PRODUCTION}/login`)\n  .then((response) => {\n    console.log(response.data.user)\n    if(response.data.user) {\n      setUser(response.data.user[0])\n    }\n  })\n}, [])\n\n// 清除成功提示\nuseEffect(() => {\n  if(actionSucceed) {\n    const timer = setTimeout(() => {\n      setActionSucceed(false)\n    }, 2300);\n    return () => clearTimeout(timer);\n  }\n}, [actionSucceed])\n\n  return (\n    <div className=\"App\">\n      <div className=\"registration\">\n        <TitlePage>註冊</TitlePage>\n          <InputTitle>帳號</InputTitle>\n          <Input\n            type=\"text\"\n            placeholder=\"輸入你的帳號...\"\n            onChange={(e) => setUsernameReg(e.target.value)}\n            value={usernameReg}\n            />\n          <InputTitle>密碼</InputTitle>\n          <Input\n            type=\"text\"\n            placeholder=\"輸入你的密碼...\"\n            onChange={(e) => setPasswordReg(e.target.value)}\n            value={passwordReg}\n          />\n          <ButtonSubmit onClick={handleRegister}>立即註冊</ButtonSubmit>\n          {actionSucceed && \n          <SucceedHint>成功註冊</SucceedHint>\n          }\n      </div>\n    </div>\n  );\n}\nexport default LoginPage;\n","import { useState, useEffect, useContext } from 'react'\nimport Axios from 'axios'\nimport { API_LOCAL, API_PRODUCTION } from '../utils'\nimport { AuthContext, FavContext, Fav2Context } from '../context'\nimport { ButtonSubmit, Input, InputTitle, TitlePage, ErrorHint, SucceedHint } from '../StyleComponents'\n\nfunction LoginPage() {\n// setting\nAxios.defaults.withCredentials = true\n\n// states\nconst [username, setUsername] = useState(null)\nconst [password, setPassword] = useState(null)\nconst [actionSucceed, setActionSucceed] = useState(false)\n// states-error\nconst [error, setError] = useState([\n  {status: 0,\n  type: '',\n  message: ''\n  }\n])\nconst [errorGetFav, setErrorGetFav] = useState(null)\n\nconst { user, setUser } = useContext(AuthContext)\nconst { myFav, setMyFav } = useContext(FavContext)\nconst { myFav2, setMyFav2 } = useContext(Fav2Context)\n\nconst [userFE, setUserFE] = useState(null) \n\n// 拿到登入狀態\nuseEffect(() => {\n  Axios.get(`${API_PRODUCTION}/login`)\n  .then((response) => {\n    console.log(response.data.user)\n    if(response.data.user) {\n      setUser(response.data.user[0])\n    }\n  })\n}, [])\n\n// 登入後拿fav\nuseEffect(() => {\n  if (user) {\n    getFav2()\n  }\n}, [user])\n\n// 清除成功提示\nuseEffect(() => {\n  if(actionSucceed) {\n    const timer = setTimeout(() => {\n      setActionSucceed(false)\n    }, 2300);\n    return () => clearTimeout(timer);\n  }\n}, [actionSucceed])\n\nconst handleLogin = () => {\n  // 檢查空值\n  if (!username || !password) {\n    setError({\n      status: 1,\n      type: 'empty',\n      message: '填寫未完全'\n    })\n    return\n  }\n  // 登入\n  Axios.post(`${API_PRODUCTION}/login`, {\n    username: username,\n    password: password\n  }, {\n    headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\n  }).then((response) => {\n    if (response.data.message) {\n      setError({\n        status: 1,\n        type: 'post',\n        message: '帳號或密碼錯誤'\n      })\n    } else {\n      console.log('response', response);\n      setUserFE(username)\n      setUser(response.data[0])\n      setActionSucceed(true)\n      setUsername('')\n      setPassword('')\n      //getFav()\n    }\n  })\n}\n\nconst getFav = () => {\n  Axios.get(`${API_LOCAL}/my-fav`).then(\n    (response) => {\n      const dataArray = response.data\n      const favStockData = dataArray.map(item => item.stock_code)\n      console.log(favStockData);\n      setMyFav(favStockData)\n    })\n}\n\nconst getFav2 = () => {\n  Axios.post(`${API_PRODUCTION}/my-fav2`, {\n    username: user.username,\n    password: password\n  }, {\n    headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\n  }).then((response) => {\n    if (response.data.message) {\n      setErrorGetFav(response.data.message)\n    } else {\n      console.log('post my fav2', response);\n      setMyFav2(response.data)\n    }\n  })\n}\n\nconst clearErrorHint = () => {\n  setError([])\n}\n\n  return (\n    <div className=\"App\">\n      <div className=\"login\">\n      <TitlePage>登入</TitlePage>\n          <InputTitle>帳號</InputTitle>\n          <Input\n            type=\"text\"\n            placeholder=\"輸入你的帳號...\"\n            onChange={(e) => setUsername(e.target.value)}\n            onFocus={clearErrorHint}  \n            value={username}        \n            />\n          <InputTitle>密碼</InputTitle>\n          <Input\n            type=\"text\"\n            placeholder=\"輸入你的密碼...\"\n            onChange={(e) => setPassword(e.target.value)} \n            onFocus={clearErrorHint}\n            value={password} \n            />\n          <ButtonSubmit onClick={handleLogin}> 立刻登入 </ButtonSubmit> \n        {error.status == 1 && (\n        <ErrorHint>{error.message}</ErrorHint>\n        )}\n        {actionSucceed && \n        <SucceedHint>成功登入</SucceedHint>\n        }\n        {user && <h1>登入狀態：{user.username}</h1>}\n      </div>    \n    </div>\n  );\n}\nexport default LoginPage;\n","import { useState, useEffect } from \"react\"\nimport { HashRouter as Router, Switch, Route, useParams } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport styled from \"styled-components\";\nimport Header from \"./Header\";\nimport DiscussPage from \"./pages/DiscussPage\";\nimport SearchPage from \"./pages/SearchPage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport RegisterPage  from './pages/RegisterPage';\nimport LoginPage  from './pages/LoginPage';\nimport './App.css';\nimport { API_PRODUCTION, API_HEROKU_PRICE, API_HEROKU_PE } from \"./utils\";\nimport { AuthContext, FavContext, Fav2Context, InfoContext } from \"./context\";\nimport { createGlobalStyle } from 'styled-components'\n\n// styles\nconst Root = styled.div`\n  padding-top: 64px;\n`\n// 設定html body 底色\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background-color: ${props => props.theme.colors.grey};\n  }\n`\n\nfunction App() {\n// setting  \nAxios.defaults.withCredentials = true\n\n// states\nconst [user, setUser] = useState(null)\nconst [stockInfoPrice, setStockInfoPrice] = useState([])\nconst [stockInfoPE, setStockInfoPE] = useState([])\nconst [myFav, setMyFav] =useState([])\nconst [myFav2, setMyFav2] =useState([])\n\nconst [loaded, setLoaded] = useState(false)\n\nconst [infoCompleted, setInfoCompleted ] = useState([])\n\n// useEffect\nuseEffect(() => {\n    // 拿到登入狀態\n    Axios.get(`${API_PRODUCTION}/login`)\n    .then(\n      (response) => {\n        if(response.data.user) {\n          setUser(response.data.user[0])\n      }\n    })\n    // 拿資料\n    getInfo()\n    // 拿最愛\n    getFav()\n}, [])\n\nuseEffect(() => {\n  // 拿最愛2\n  if (user) {\n    console.log('getFav2');\n    getFav2()\n    }\n}, [user])\n\nconst getFav = () => {\n  Axios.get(`${API_PRODUCTION}/my-fav`).then(\n    (response) => {\n      const dataArray = response.data\n      const favStockData = dataArray.map(item => item.stock_code)\n      console.log(favStockData);\n      setMyFav(favStockData)\n    })\n}\n\nconst getFav2 = () => {\n  Axios.post(`${API_PRODUCTION}/my-fav2`, {\n    username: user.username,\n  }, {\n    headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\n  }).then((response) => {\n    if (response.data.message) {\n      console.log(response.data.message)\n    } else {\n      console.log('post my fav2', response);\n      setMyFav2(response.data)\n    }\n  })\n}\n\n// 確認載入完全\nuseEffect(() => {\n  if(stockInfoPrice.length > 1000) {\n    setLoaded(true)\n  }\n}, [stockInfoPrice])\n\n// 整理資料\nuseEffect(() => {\n  if(loaded) {\n    organizeInfo()\n  }\n}, [loaded])\n\nconst getInfo = () => {\n  // 拿價格\n  fetch(API_HEROKU_PRICE)// `${API_STOCK_REMOTE}/price.php`\n  .then(response =>{\n    return  response.json()\n  })\n  .then( data =>{\n    const dataPrice = data.stock_new\n    const toArray = Object.values(dataPrice)\n    setStockInfoPrice(toArray)\n  })\n  // 拿資料-本益比\n  fetch(API_HEROKU_PE)\n  .then(response => {\n    return response.json()\n    \n  })\n  .then(data => {\n    const PE = data.stock_pe\n    setStockInfoPE(PE)\n  })\n}\n\nconst organizeInfo = () => {\n    const infoProcessing = stockInfoPrice.map(item => ({'PE':'', 'Dividend':'', ...item}))\n    for (let i = 0; i < infoProcessing.length; i ++) {\n      // 結合PE, Dividend\n      for (let x = 0; x < stockInfoPE.length; x ++) {\n        if (infoProcessing[i].Code == stockInfoPE[x].Code) {\n          infoProcessing[i].PE = stockInfoPE[x].PEratio\n          infoProcessing[i].Dividend = stockInfoPE[x].DividendYield\n        }\n      }\n      // 空白處理\n      if (infoProcessing[i].PE == '') {\n        infoProcessing[i].PE = '無資料'\n      }\n      if (infoProcessing[i].Dividend == '') {\n        infoProcessing[i].Dividend = '無資料'\n      }\n    }\n    setInfoCompleted(infoProcessing)\n}\n\n/*const checkLoaded = () => {\n  if(stockInfoPrice.length > 1000) {\n    console.log(1);\n    setLoaded(true)\n    return\n  } else {\n    console.log(2)\n    setTimeout(checkLoaded, 1000);\n  }  \n}*/\n\nreturn (\n  <InfoContext.Provider value={{infoCompleted, setInfoCompleted}}>\n  <AuthContext.Provider value={{user, setUser}}>\n  <FavContext.Provider value={{myFav, setMyFav}}>\n  <Fav2Context.Provider value={{myFav2, setMyFav2}}>\n  <GlobalStyle />\n  <Root>\n    <Router>\n      <Header />\n      <Switch>   \n        <Route exact path=\"/\">\n          <DiscussPage />\n        </Route>\n        <Route exact path=\"/search\">\n          <SearchPage />\n        </Route>\n        <Route exact path=\"/profile\">\n          <ProfilePage />\n        </Route>\n        <Route exact path=\"/register\">\n          <RegisterPage />\n        </Route>                      \n        <Route exact path=\"/login\">\n          <LoginPage />\n        </Route>     \n      </Switch>\n    </Router>\n  </Root>\n  </Fav2Context.Provider>\n  </FavContext.Provider>\n  </AuthContext.Provider>\n  </InfoContext.Provider>\n);\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { ThemeProvider } from \"styled-components\"\n\nconst theme = {\n  colors: {\n    darkBlue: \"#4F62C0\",\n    vividBlue: \"#ADEAF1\",\n    grey: \"#F8F7FC\",\n    darkGrey: \"#383E5A\"\n  }\n}\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </ThemeProvider>,\n\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}