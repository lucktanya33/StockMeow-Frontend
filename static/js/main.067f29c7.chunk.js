(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var c,i,a,o,r,s,j=n(0),l=n.n(j),b=n(31),u=n.n(b),d=(n(40),n(4)),h=n(2),O=n(16),x=n(5),f=n(7),p=n.n(f),g=n(3),m=Object(j.createContext)(null),v="https://lit-earth-99012.herokuapp.com",y="http://mentor-program.co/mtr04group1/lucktanya33/stock",S=n(1),k=g.a.div(c||(c=Object(h.a)(["\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  box-sizing: border-box;\n"]))),C=Object(g.a)(O.b)(i||(i=Object(h.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  color: black;\n  text-decoration: none;\n"]))),w=g.a.div(a||(a=Object(h.a)(["\n  display: flex;\n  align-items: center;\n"]))),P=Object(g.a)(O.b)(o||(o=Object(h.a)(["\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ","\n"])),(function(t){return t.$active&&"\n    background: rgba(0, 0, 0, 0.1);\n    "})),F=g.a.div(r||(r=Object(h.a)(["\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ","\n"])),(function(t){return t.$active&&"\n    background: rgba(0, 0, 0, 0.1);\n    "})),T=g.a.div(s||(s=Object(h.a)(["\n  display: flex;\n  align-items: center;\n\n  "," {\n    margin-left: 64px;\n  }\n"])),w);var E,N,U,$,L,z,A,D,I,_,B,J,G,M,R,H,Y,q,K=function(){var t=Object(x.f)(),e=Object(j.useContext)(m),n=e.user,c=e.setUser;return p.a.defaults.withCredentials=!0,Object(S.jsxs)(k,{children:[Object(S.jsxs)(T,{children:[Object(S.jsx)(C,{to:"/",children:"\u73a9\u80a1\u55b5"}),Object(S.jsxs)(w,{children:[Object(S.jsx)(P,{to:"/",$active:"/"===t.pathname,children:"\u9996\u9801"}),Object(S.jsx)(P,{to:"/register",$active:"/register"===t.pathname,children:"\u8a3b\u518a"}),Object(S.jsx)(P,{to:"/posting",$active:"/posting"===t.pathname,children:"\u767c\u5e03"}),Object(S.jsx)(P,{to:"/stock-hot",$active:"/stock-hot"===t.pathname,children:"\u71b1\u9580"})]})]}),Object(S.jsxs)(w,{children:[!n&&Object(S.jsx)(P,{to:"/login",$active:"/login"===t.pathname,children:"\u767b\u5165"}),n&&Object(S.jsx)(P,{to:"/profile",$active:"/profile"===t.pathname,children:"\u500b\u4eba"}),n&&Object(S.jsx)(F,{onClick:function(){c(null),p.a.get("".concat(v,"/logout")).then((function(t){console.log("GET LOGOUT",t)}))},children:"\u767b\u51fa"})]})]})},Q=g.a.div(E||(E=Object(h.a)(["\n  width: 360px;\n  margin: 0 auto;\n"]))),V=g.a.h2(N||(N=Object(h.a)(["\n  color: #333;\n"]))),W=g.a.form(U||(U=Object(h.a)(["\n  margin-top: 16px;\n"]))),X=g.a.textarea($||($=Object(h.a)(["\n  width: 100%;\n"]))),Z=g.a.textarea(L||(L=Object(h.a)(["\n  width: 100%;\n"]))),tt=g.a.textarea(z||(z=Object(h.a)(["\n  width: 100%;\n"]))),et=g.a.button(A||(A=Object(h.a)(["\n  margin-top: 8px;\n"]))),nt=g.a.button(D||(D=Object(h.a)(["\n  margin-top: 8px;\n"]))),ct=g.a.div(I||(I=Object(h.a)(["\n  margin-top: 16px;\n"]))),it=g.a.div(_||(_=Object(h.a)(["\n  border: 1px solid black;\n  border-radius: 8px;\n  padding: 8px 16px;\n\n  &:not(:first-child) {\n    margin-top: 12px;\n  }\n"]))),at=g.a.div(B||(B=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid lightgrey;\n  padding-bottom: 4px;\n"]))),ot=g.a.div(J||(J=Object(h.a)(["\n  color: black;\n"]))),rt=g.a.div(G||(G=Object(h.a)(["\n  color: black;\n"]))),st=g.a.div(M||(M=Object(h.a)([""]))),jt=g.a.div(R||(R=Object(h.a)(["\n  font-weight: bold;\n  font-size: 20px;\n"]))),lt=g.a.div(H||(H=Object(h.a)([""]))),bt=g.a.div(Y||(Y=Object(h.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));function ut(t){var e=t.id,n=t.author,c=t.time,i=t.title,a=t.content,o=t.deleteTest;return Object(S.jsxs)(it,{children:[Object(S.jsxs)(at,{children:[Object(S.jsx)(rt,{children:e}),Object(S.jsx)(ot,{children:n}),Object(S.jsx)(st,{children:c})]}),Object(S.jsx)(jt,{children:i}),Object(S.jsx)(lt,{children:a}),Object(S.jsx)(nt,{onClick:function(){o(e)},children:"\u522a\u9664"})]})}var dt=g.a.div(q||(q=Object(h.a)(["\n  color: red;\n"])));var ht=function(){var t=Object(j.useState)(),e=Object(d.a)(t,2),n=e[0],c=e[1],i=Object(j.useState)(null),a=Object(d.a)(i,2),o=a[0],r=a[1],s=Object(j.useState)(null),l=Object(d.a)(s,2),b=l[0],u=l[1],h=Object(j.useState)(!1),O=Object(d.a)(h,2),x=O[0],f=O[1],g=Object(j.useState)([]),y=Object(d.a)(g,2),k=y[0],C=y[1],w=Object(j.useState)(""),P=Object(d.a)(w,2),F=P[0],T=P[1],E=Object(j.useState)(""),N=Object(d.a)(E,2),U=N[0],$=N[1],L=Object(j.useContext)(m),z=(L.user,L.setUser,function(){fetch("https://student-json-api.lidemy.me/comments").then((function(t){return t.json()})).then((function(t){C(t)})).catch((function(t){r(t.message)}))});Object(j.useEffect)((function(){z()}),[]);var A=function(){u(null)},D=function(t){fetch("https://student-json-api.lidemy.me/comments/".concat(t),{method:"DELETE"}).then((function(t){return t.json()})).then((function(t){return z()})).catch((function(t){return console.log(t)}))};return Object(S.jsxs)(Q,{children:[x&&Object(S.jsx)(bt,{children:"\u6b63\u5728\u9001\u51fa..."}),Object(S.jsx)("button",{onClick:function(){p.a.get("".concat(v,"/posts")).then((function(t){C(t.data)}))},children:"\u6e2c\u8a66API"}),Object(S.jsxs)(W,{onSubmit:function(){p.a.post("".concat(v,"/create-post"),{inputTitle:F,inputBody:U}).then((function(t){console.log(t)}))},children:[Object(S.jsx)(Z,{rows:2,placeholder:"\u8f38\u5165\u6a19\u984c...",onChange:function(t){T(t.target.value)},onFocus:A}),Object(S.jsx)(tt,{rows:10,placeholder:"\u8f38\u5165\u5167\u5bb9...",onChange:function(t){$(t.target.value)},onFocus:A}),Object(S.jsx)(et,{children:"\u9001\u51fa\u7559\u8a00"}),b&&Object(S.jsx)(dt,{children:b})]}),Object(S.jsx)(V,{children:"\u767c\u8868\u4f60\u5c0d\u80a1\u5e02\u7684\u770b\u6cd5..."}),Object(S.jsxs)(W,{onSubmit:function(t){t.preventDefault(),x||(f(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"hey",body:n})}).then((function(t){return t.json()})).then((function(t){if(f(!1),0===t.ok)return f(!1),void u(t.message);z(),c("")})).catch((function(t){f(!1),u(t.message)})))},children:[Object(S.jsx)(X,{rows:10,value:n,onChange:function(t){c(t.target.value)},onFocus:A}),Object(S.jsx)(et,{children:"\u9001\u51fa\u7559\u8a00"}),b&&Object(S.jsx)(dt,{children:b})]}),o&&Object(S.jsxs)(dt,{children:["Something went wrong: ",o.toString()]}),Object(S.jsx)(ct,{children:k.map((function(t){return Object(S.jsx)(ut,{id:t.id,author:t.username,title:t.title,content:t.body,time:new Date(t.createdAt).toLocaleString(),deleteTest:D,children:t.body},t.id)}))})]})};var Ot=function(){var t=Object(j.useState)([]),e=Object(d.a)(t,2),n=(e[0],e[1]),c=Object(j.useState)([]),i=Object(d.a)(c,2),a=i[0],o=i[1],r=Object(j.useState)(null),s=Object(d.a)(r,2),l=s[0],b=s[1],u=Object(j.useState)([]),h=Object(d.a)(u,2),O=h[0],x=h[1],f=Object(j.useState)([]),p=Object(d.a)(f,2),g=p[0],m=p[1],v=Object(j.useState)(null),k=Object(d.a)(v,2),C=k[0],w=k[1],P=function(){fetch("".concat(y,"/price.php")).then((function(t){return t.json()})).then((function(t){var e=t.stock_try.slice(10037,11019);o(e)}))};return Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:"\u71b1\u9580\u80a1\u7968"}),Object(S.jsx)("button",{onClick:P,children:"\u6e2c\u8a66API"}),Object(S.jsxs)("form",{onSubmit:function(){x([]),m([]),fetch("".concat(y,"/try.php")).then((function(t){return t.json()})).then((function(t){var e=t.stock_try;console.log(e.length),n(e),P();var c=e.filter((function(t){return t.Name==l})),i=e.filter((function(t){return t.Code==l}));if(0!==i.length||0!==c.length){var o=a.filter((function(t){return t.Code==l})),r=a.filter((function(t){return t.Name==l}));0!==i.length&&(x(i),m(o)),0!==c.length&&(x(c),m(r))}else w("\u7121\u6548\u7684\u67e5\u8a62\uff0c\u8acb\u8f38\u5165\u6b63\u78ba\u80a1\u7968\u540d\u7a31"),x([]),m([])}))},children:[Object(S.jsx)("input",{placeholder:"\u8f38\u5165\u4e0a\u5e02\u80a1\u7968\u540d\u7a31/\u4ee3\u865f",onChange:function(t){return b(t.target.value)},onFocus:function(){w(null)}}),Object(S.jsx)("button",{children:"\u67e5\u8a62"})]}),Object(S.jsx)("h2",{children:C}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("h3",{children:[" \u540d\u7a31\uff1a",O.map((function(t){return t.Name}))]}),Object(S.jsxs)("h3",{children:[" \u80a1\u50f9\uff1a",g.map((function(t){return t.ClosingPrice}))]}),Object(S.jsxs)("h3",{children:[" \u6708\u5747\u50f9\uff1a",g.map((function(t){return t.MonthlyAveragePrice}))]}),Object(S.jsxs)("h3",{children:[" \u672c\u76ca\u6bd4\uff1a",O.map((function(t){return t.PEratio}))]}),Object(S.jsxs)("h3",{children:[" \u6b96\u5229\u7387\uff1a",O.map((function(t){return t.DividendYield}))]})]})]})};var xt=function(){var t=Object(j.useState)([]),e=Object(d.a)(t,2),n=e[0],c=e[1];return Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:"\u6211\u7684\u6700\u611b\u80a1\u7968"}),Object(S.jsx)("button",{onClick:function(){p.a.get("".concat("http://localhost:3001","/my-fav")).then((function(t){var e=t.data,n=e.map((function(t){return t.stock_code}));console.log(n),c(e)}))},children:"\u62ff\u5230\u6700\u611b\u80a1\u7968"}),n.map((function(t){return Object(S.jsx)("h3",{children:t.stock_code})}))]})};var ft,pt=function(){var t=Object(j.useState)([]),e=Object(d.a)(t,2),n=e[0],c=e[1],i=Object(j.useState)([]),a=Object(d.a)(i,2),o=a[0],r=a[1],s=Object(j.useState)([]),l=Object(d.a)(s,2),b=l[0],u=l[1],h=Object(j.useState)([]),O=Object(d.a)(h,2),x=O[0],f=O[1],g=Object(j.useState)(""),y=Object(d.a)(g,2),k=y[0],C=y[1],w=Object(j.useContext)(m),P=w.user,F=w.setUser;p.a.defaults.withCredentials=!0;var T=function(){C("")};return Object(j.useEffect)((function(){p.a.get("".concat(v,"/login")).then((function(t){console.log(t.data.user),t.data.user&&F(t.data.user[0])}))}),[]),Object(S.jsxs)("div",{className:"App",children:[Object(S.jsxs)("div",{className:"registration",children:[Object(S.jsx)("h1",{children:"Registration"}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Username"}),Object(S.jsx)("input",{type:"text",onChange:function(t){return c(t.target.value)}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Password"}),Object(S.jsx)("input",{type:"text",onChange:function(t){return r(t.target.value)}})]}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(){p.a.post("".concat(v,"/register"),{username:n,password:o}).then((function(t){}))},children:" Now Register "})})]}),Object(S.jsxs)("div",{className:"login",children:[Object(S.jsx)("h1",{children:"Login"}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Username"}),Object(S.jsx)("input",{type:"text",onChange:function(t){return u(t.target.value)},onFocus:T})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"Password"}),Object(S.jsx)("input",{type:"text",onChange:function(t){return f(t.target.value)},onFocus:T})]}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(){p.a.post("".concat(v,"/login"),{username:b,password:x},{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(t){t.data.message?C(t.data.message):F(t.data[0])}))},children:" Now Login "})}),Object(S.jsx)("h1",{children:k}),P&&Object(S.jsxs)("h1",{children:["\u767b\u5165\u72c0\u614b\uff1a",P.username]})]})]})},gt=(n(65),g.a.div(ft||(ft=Object(h.a)(["\n  padding-top: 64px;\n"]))));var mt=function(){var t=Object(j.useState)(null),e=Object(d.a)(t,2),n=e[0],c=e[1];return p.a.defaults.withCredentials=!0,Object(j.useEffect)((function(){p.a.get("".concat(v,"/login")).then((function(t){t.data.user&&c(t.data.user[0])}))}),[]),Object(S.jsx)(m.Provider,{value:{user:n,setUser:c},children:Object(S.jsx)(gt,{children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(K,{}),Object(S.jsx)("h3",{children:"\u767b\u5165\u72c0\u614b"}),Object(S.jsx)("h3",{children:"\u6e2c\u8a66\u91cd\u65b0PUSH"}),n&&"".concat(n.username,"\u5df2\u767b\u5165"),Object(S.jsxs)(x.c,{children:[Object(S.jsx)(x.a,{exact:!0,path:"/",children:Object(S.jsx)(ht,{})}),Object(S.jsx)(x.a,{exact:!0,path:"/stock-hot",children:Object(S.jsx)(Ot,{})}),Object(S.jsx)(x.a,{exact:!0,path:"/profile",children:Object(S.jsx)(xt,{})}),Object(S.jsx)(x.a,{exact:!0,path:"/login",children:Object(S.jsx)(pt,{})})]})]})})})},vt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),c(t),i(t),a(t),o(t)}))};u.a.render(Object(S.jsx)(l.a.StrictMode,{children:Object(S.jsx)(mt,{})}),document.getElementById("root")),vt()}},[[66,1,2]]]);
//# sourceMappingURL=main.067f29c7.chunk.js.map