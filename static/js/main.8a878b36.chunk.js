(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c,a,i,r,o,s,j=n(0),l=n.n(j),b=n(31),u=n.n(b),d=(n(40),n(4)),h=n(2),O=n(16),x=n(5),f=n(7),p=n.n(f),g=n(3),v=Object(j.createContext)(null),m="https://lit-earth-99012.herokuapp.com",k=n(1),S=g.a.div(c||(c=Object(h.a)(["\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  box-sizing: border-box;\n"]))),y=Object(g.a)(O.b)(a||(a=Object(h.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  color: black;\n  text-decoration: none;\n"]))),w=g.a.div(i||(i=Object(h.a)(["\n  display: flex;\n  align-items: center;\n"]))),C=Object(g.a)(O.b)(r||(r=Object(h.a)(["\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ","\n"])),(function(e){return e.$active&&"\n    background: rgba(0, 0, 0, 0.1);\n    "})),F=g.a.div(o||(o=Object(h.a)(["\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ","\n"])),(function(e){return e.$active&&"\n    background: rgba(0, 0, 0, 0.1);\n    "})),N=g.a.div(s||(s=Object(h.a)(["\n  display: flex;\n  align-items: center;\n\n  "," {\n    margin-left: 64px;\n  }\n"])),w);var P,z,E,T,U,$,L,_,A,B,D,G,I,J,M,R,q,Y,H=function(){var e=Object(x.f)(),t=Object(j.useContext)(v),n=t.user,c=t.setUser;return p.a.defaults.withCredentials=!0,Object(k.jsxs)(S,{children:[Object(k.jsxs)(N,{children:[Object(k.jsx)(y,{to:"/",children:"\u73a9\u80a1\u55b5"}),Object(k.jsxs)(w,{children:[Object(k.jsx)(C,{to:"/",$active:"/"===e.pathname,children:"\u8a0e\u8ad6\u5340"}),Object(k.jsx)(C,{to:"/stock-hot",$active:"/stock-hot"===e.pathname,children:"\u67e5\u80a1\u7968"})]})]}),Object(k.jsxs)(w,{children:[!n&&Object(k.jsx)(C,{to:"/register",$active:"/register"===e.pathname,children:"\u8a3b\u518a"}),!n&&Object(k.jsx)(C,{to:"/login",$active:"/login"===e.pathname,children:"\u767b\u5165"}),n&&Object(k.jsx)(C,{to:"/profile",$active:"/profile"===e.pathname,children:"\u500b\u4eba"}),n&&Object(k.jsx)(F,{onClick:function(){c(null),p.a.get("".concat(m,"/logout")).then((function(e){console.log("GET LOGOUT",e)}))},children:"\u767b\u51fa"})]})]})},K=g.a.div(P||(P=Object(h.a)(["\n  width: 360px;\n  margin: 0 auto;\n"]))),Q=g.a.h2(z||(z=Object(h.a)(["\n  color: #333;\n"]))),V=g.a.form(E||(E=Object(h.a)(["\n  margin-top: 16px;\n"]))),W=(g.a.textarea(T||(T=Object(h.a)(["\n  width: 100%;\n"]))),g.a.textarea(U||(U=Object(h.a)(["\n  width: 100%;\n"])))),X=g.a.textarea($||($=Object(h.a)(["\n  width: 100%;\n"]))),Z=g.a.button(L||(L=Object(h.a)(["\n  margin-top: 8px;\n"]))),ee=(g.a.button(_||(_=Object(h.a)(["\n  margin-top: 8px;\n"]))),g.a.div(A||(A=Object(h.a)(["\n  margin-top: 16px;\n"])))),te=g.a.div(B||(B=Object(h.a)(["\n  border: 1px solid black;\n  border-radius: 8px;\n  padding: 8px 16px;\n\n  &:not(:first-child) {\n    margin-top: 12px;\n  }\n"]))),ne=g.a.div(D||(D=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid lightgrey;\n  padding-bottom: 4px;\n"]))),ce=g.a.div(G||(G=Object(h.a)(["\n  color: black;\n"]))),ae=g.a.div(I||(I=Object(h.a)(["\n  color: black;\n"]))),ie=g.a.div(J||(J=Object(h.a)([""]))),re=g.a.div(M||(M=Object(h.a)(["\n  font-weight: bold;\n  font-size: 20px;\n"]))),oe=g.a.div(R||(R=Object(h.a)([""]))),se=g.a.div(q||(q=Object(h.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));function je(e){var t=e.id,n=e.author,c=e.time,a=e.title,i=e.content;e.deleteTest;return Object(k.jsxs)(te,{children:[Object(k.jsxs)(ne,{children:[Object(k.jsx)(ae,{children:t}),Object(k.jsx)(ce,{children:n}),Object(k.jsx)(ie,{children:c})]}),Object(k.jsx)(re,{children:a}),Object(k.jsx)(oe,{children:i})]})}var le=g.a.div(Y||(Y=Object(h.a)(["\n  color: red;\n"])));var be,ue=function(){var e=Object(j.useState)(),t=Object(d.a)(e,2),n=(t[0],t[1],Object(j.useState)(null)),c=Object(d.a)(n,2),a=c[0],i=c[1],r=Object(j.useState)(null),o=Object(d.a)(r,2),s=o[0],l=o[1],b=Object(j.useState)(!1),u=Object(d.a)(b,2),h=u[0],O=u[1],x=Object(j.useState)([]),f=Object(d.a)(x,2),g=f[0],S=f[1],y=Object(j.useState)(""),w=Object(d.a)(y,2),C=w[0],F=w[1],N=Object(j.useState)(""),P=Object(d.a)(N,2),z=P[0],E=P[1],T=Object(j.useContext)(v),U=(T.user,T.setUser,function(){p.a.get("".concat(m,"/posts")).then((function(e){S(e.data)})).catch((function(e){i(e.message)}))});Object(j.useEffect)((function(){U()}),[]);var $=function(){l(null)};return Object(k.jsxs)(K,{children:[h&&Object(k.jsx)(se,{children:"\u6b63\u5728\u9001\u51fa..."}),Object(k.jsxs)(V,{onSubmit:function(){O(!0),p.a.post("".concat(m,"/create-post"),{inputTitle:C,inputBody:z}).then((function(e){console.log(e),O(!1),U()})).catch((function(e){O(!1),l(e.message)}))},children:[Object(k.jsx)(W,{rows:2,placeholder:"\u8f38\u5165\u6a19\u984c...",onChange:function(e){F(e.target.value)},onFocus:$}),Object(k.jsx)(X,{rows:10,placeholder:"\u8f38\u5165\u5167\u5bb9...",onChange:function(e){E(e.target.value)},onFocus:$}),Object(k.jsx)(Z,{children:"\u9001\u51fa\u7559\u8a00"}),s&&Object(k.jsx)(le,{children:s})]}),Object(k.jsx)(Q,{children:"\u767c\u8868\u4f60\u5c0d\u80a1\u5e02\u7684\u770b\u6cd5..."}),a&&Object(k.jsxs)(le,{children:["Something went wrong: ",a.toString()]}),Object(k.jsx)(ee,{children:g.map((function(e){return Object(k.jsx)(je,{id:e.id,author:e.username,title:e.title,content:e.body,time:new Date(e.createdAt).toLocaleString(),children:e.body},e.id)}))})]})},de=g.a.div(be||(be=Object(h.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));var he=function(){var e=Object(j.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(j.useState)([]),i=Object(d.a)(a,2),r=i[0],o=i[1],s=Object(j.useState)([]),l=Object(d.a)(s,2),b=l[0],u=l[1],h=Object(j.useState)(null),O=Object(d.a)(h,2),x=O[0],f=O[1],p=Object(j.useState)([]),g=Object(d.a)(p,2),v=g[0],m=g[1],S=Object(j.useState)([]),y=Object(d.a)(S,2),w=y[0],C=y[1],F=Object(j.useState)(null),N=Object(d.a)(F,2),P=N[0],z=N[1];Object(j.useEffect)((function(){E()}),[]);var E=function(){fetch("https://secure-brook-06568.herokuapp.com/").then((function(e){return e.json()})).then((function(e){var t=e.stock_try.filter((function(e){return e.Code<1e4}));u(t),c(!0)})),fetch("https://tranquil-thicket-64578.herokuapp.com/").then((function(e){return e.json()})).then((function(e){var t=e.stock_pe;o(t)}))};return Object(k.jsxs)("div",{children:[!n&&Object(k.jsx)(de,{children:"1102\u6a94\u53f0\u80a1\u8cc7\u6599\u8f09\u5165\u4e2d..."}),n&&Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{children:"\u71b1\u9580\u80a1\u7968"}),Object(k.jsxs)("form",{onSubmit:function(){m([]),C([]);var e=b.filter((function(e){return e.Name==x})),t=b.filter((function(e){return e.Code==x})),n=r.filter((function(e){return e.Code==x})),c=r.filter((function(e){return e.Name==x}));0!==t.length||0!==e.length?(0!==t.length&&(m(t),C(n)),0!==e.length&&(m(e),C(c))):(z("\u7121\u6548\u7684\u67e5\u8a62\uff0c\u8acb\u8f38\u5165\u6b63\u78ba\u4ee3\u865f\u6216\u540d\u7a31"),m([]),C([]))},children:[Object(k.jsx)("input",{placeholder:"\u8f38\u5165\u4e0a\u5e02\u80a1\u7968\u540d\u7a31/\u4ee3\u865f",onChange:function(e){return f(e.target.value)},onFocus:function(){z(null)}}),Object(k.jsx)("button",{children:"\u67e5\u8a62"})]}),Object(k.jsx)("h3",{children:P}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("h3",{children:[" \u540d\u7a31\uff1a",w.map((function(e){return e.Name}))]}),Object(k.jsxs)("h3",{children:[" \u80a1\u50f9\uff1a",v.map((function(e){return e.ClosingPrice}))]}),Object(k.jsxs)("h3",{children:[" \u6708\u5747\u50f9\uff1a",v.map((function(e){return e.MonthlyAveragePrice}))]}),Object(k.jsxs)("h3",{children:[" \u672c\u76ca\u6bd4\uff1a",w.map((function(e){return e.PEratio}))]}),Object(k.jsxs)("h3",{children:[" \u6b96\u5229\u7387\uff1a",w.map((function(e){return e.DividendYield}))]})]})]})]})};var Oe=function(){var e=Object(j.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{children:"\u6211\u7684\u6700\u611b\u80a1\u7968"}),Object(k.jsx)("button",{onClick:function(){p.a.get("".concat("http://localhost:3001","/my-fav")).then((function(e){var t=e.data,n=t.map((function(e){return e.stock_code}));console.log(n),c(t)}))},children:"\u62ff\u5230\u6700\u611b\u80a1\u7968"}),n.map((function(e){return Object(k.jsx)("h3",{children:e.stock_code})}))]})};var xe,fe=function(){var e=Object(j.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(j.useState)([]),i=Object(d.a)(a,2),r=i[0],o=i[1],s=Object(j.useState)([]),l=Object(d.a)(s,2),b=l[0],u=l[1],h=Object(j.useState)([]),O=Object(d.a)(h,2),x=O[0],f=O[1],g=Object(j.useState)(""),S=Object(d.a)(g,2),y=S[0],w=S[1],C=Object(j.useContext)(v),F=C.user,N=C.setUser;p.a.defaults.withCredentials=!0;var P=function(){w("")};return Object(j.useEffect)((function(){p.a.get("".concat(m,"/login")).then((function(e){console.log(e.data.user),e.data.user&&N(e.data.user[0])}))}),[]),Object(k.jsxs)("div",{className:"App",children:[Object(k.jsxs)("div",{className:"registration",children:[Object(k.jsx)("h1",{children:"Registration"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:"Username"}),Object(k.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)}})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:"Password"}),Object(k.jsx)("input",{type:"text",onChange:function(e){return o(e.target.value)}})]}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{onClick:function(){p.a.post("".concat(m,"/register"),{username:n,password:r}).then((function(e){}))},children:" Now Register "})})]}),Object(k.jsxs)("div",{className:"login",children:[Object(k.jsx)("h1",{children:"Login"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:"Username"}),Object(k.jsx)("input",{type:"text",onChange:function(e){return u(e.target.value)},onFocus:P})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:"Password"}),Object(k.jsx)("input",{type:"text",onChange:function(e){return f(e.target.value)},onFocus:P})]}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{onClick:function(){p.a.post("".concat(m,"/login"),{username:b,password:x},{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){e.data.message?w(e.data.message):(console.log(e),N(e.data[0]))}))},children:" Now Login "})}),Object(k.jsx)("h1",{children:y}),F&&Object(k.jsxs)("h1",{children:["\u767b\u5165\u72c0\u614b\uff1a",F.username]})]})]})},pe=(n(65),g.a.div(xe||(xe=Object(h.a)(["\n  padding-top: 64px;\n"]))));var ge=function(){var e=Object(j.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1];return p.a.defaults.withCredentials=!0,Object(j.useEffect)((function(){p.a.get("".concat(m,"/login")).then((function(e){e.data.user&&c(e.data.user[0])}))}),[]),Object(k.jsx)(v.Provider,{value:{user:n,setUser:c},children:Object(k.jsx)(pe,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(H,{}),Object(k.jsx)("h3",{children:"\u767b\u5165\u72c0\u614b"}),n&&"".concat(n.username,"\u5df2\u767b\u5165"),Object(k.jsxs)(x.c,{children:[Object(k.jsx)(x.a,{exact:!0,path:"/",children:Object(k.jsx)(ue,{})}),Object(k.jsx)(x.a,{exact:!0,path:"/stock-hot",children:Object(k.jsx)(he,{})}),Object(k.jsx)(x.a,{exact:!0,path:"/profile",children:Object(k.jsx)(Oe,{})}),Object(k.jsx)(x.a,{exact:!0,path:"/login",children:Object(k.jsx)(fe,{})})]})]})})})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};u.a.render(Object(k.jsx)(l.a.StrictMode,{children:Object(k.jsx)(ge,{})}),document.getElementById("root")),ve()}},[[66,1,2]]]);
//# sourceMappingURL=main.8a878b36.chunk.js.map