(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c,i,r,o,a,s,j,l=n(1),b=n.n(l),d=n(31),u=n.n(d),h=(n(40),n(4)),x=n(3),O=n(16),p=n(5),f=n(6),g=n.n(f),v=n(2),m=Object(l.createContext)(null),w="http://localhost:3001",k="https://lit-earth-99012.herokuapp.com",y=n(0),C=v.c.div(c||(c=Object(x.a)(["\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  box-sizing: border-box;\n"]))),S=v.c.div(i||(i=Object(x.a)(["\n  display: flex;\n  align-items: center;\n"]))),z=v.c.div(r||(r=Object(x.a)(["\n  display: flex;\n  align-items: center;\n\n  "," {\n    margin-left: 64px;\n  }\n"])),S),F=Object(v.c)(O.b)(o||(o=Object(x.a)(["\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  font-size: 20px;\n\n  ","\n"])),(function(e){return e.$active&&"\n    background: ".concat((function(e){return e.theme.colors.darkBlue}),";\n    ")})),B=Object(v.c)(O.b)(a||(a=Object(x.a)(["\n  width: 120px; \n  font-size: 26px;\n  font-weight: bold;\n  color: black;\n  text-decoration: none;\n"]))),E=v.c.div(s||(s=Object(x.a)(["\n  height: 60px;\n  color: orange;\n  font-size: 14px;\n  box-sizing: border-box;\n"]))),N=v.c.div(j||(j=Object(x.a)(["\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ","\n"])),(function(e){return e.$active&&"\n    background: ".concat((function(e){return e.theme.colors.darkBlue}),";\n    ")}));var T,P,U,D,L,$,A,_,G,I,J,M,R,q,Y,H,K,Q,V=function(){var e=Object(p.f)(),t=Object(l.useContext)(m),n=t.user,c=t.setUser;return g.a.defaults.withCredentials=!0,Object(y.jsxs)(C,{children:[Object(y.jsxs)(z,{children:[Object(y.jsx)(B,{to:"/",children:"\u73a9\u80a1\u55b5"}),Object(y.jsx)(E,{children:Object(y.jsx)("p",{children:n?"\u4f60\u597d "+n.username:"\u8acb\u767b\u5165"})}),Object(y.jsxs)(S,{children:[Object(y.jsx)(F,{to:"/",$active:"/"===e.pathname,children:"\u8a0e\u8ad6"}),Object(y.jsx)(F,{to:"/stock-hot",$active:"/stock-hot"===e.pathname,children:"\u67e5\u8a62"})]})]}),Object(y.jsxs)(S,{children:[!n&&Object(y.jsx)(F,{to:"/register",$active:"/register"===e.pathname,children:"\u8a3b\u518a"}),!n&&Object(y.jsx)(F,{to:"/login",$active:"/login"===e.pathname,children:"\u767b\u5165"}),n&&Object(y.jsx)(F,{to:"/profile",$active:"/profile"===e.pathname,children:"\u500b\u4eba"}),n&&Object(y.jsx)(N,{onClick:function(){c(null),g.a.get("".concat(k,"/logout")).then((function(e){console.log("GET LOGOUT",e)}))},children:"\u767b\u51fa"})]})]})},W=v.c.div(T||(T=Object(x.a)(["\n  width: 360px;\n  margin: 0 auto;\n"]))),X=v.c.h2(P||(P=Object(x.a)(["\n  color: #333;\n"]))),Z=v.c.form(U||(U=Object(x.a)(["\n  margin-top: 16px;\n"]))),ee=(v.c.textarea(D||(D=Object(x.a)(["\n  width: 100%;\n"]))),v.c.textarea(L||(L=Object(x.a)(["\n  width: 100%;\n"])))),te=v.c.textarea($||($=Object(x.a)(["\n  width: 100%;\n"]))),ne=v.c.button(A||(A=Object(x.a)(["\n  margin-top: 8px;\n"]))),ce=(v.c.button(_||(_=Object(x.a)(["\n  margin-top: 8px;\n"]))),v.c.div(G||(G=Object(x.a)(["\n  margin-top: 16px;\n"])))),ie=v.c.div(I||(I=Object(x.a)(["\n  border: 1px solid black;\n  border-radius: 8px;\n  padding: 8px 16px;\n\n  &:not(:first-child) {\n    margin-top: 12px;\n  }\n"]))),re=v.c.div(J||(J=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid lightgrey;\n  padding-bottom: 4px;\n"]))),oe=v.c.div(M||(M=Object(x.a)(["\n  color: black;\n"]))),ae=v.c.div(R||(R=Object(x.a)(["\n  color: black;\n"]))),se=v.c.div(q||(q=Object(x.a)([""]))),je=v.c.div(Y||(Y=Object(x.a)(["\n  font-weight: bold;\n  font-size: 20px;\n"]))),le=v.c.div(H||(H=Object(x.a)([""]))),be=v.c.div(K||(K=Object(x.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));function de(e){var t=e.id,n=e.author,c=e.time,i=e.title,r=e.content;e.deleteTest;return Object(y.jsxs)(ie,{children:[Object(y.jsxs)(re,{children:[Object(y.jsx)(ae,{children:t}),Object(y.jsx)(oe,{children:n}),Object(y.jsx)(se,{children:c})]}),Object(y.jsx)(je,{children:i}),Object(y.jsx)(le,{children:r})]})}var ue=v.c.div(Q||(Q=Object(x.a)(["\n  color: red;\n"])));var he,xe,Oe,pe,fe,ge,ve,me,we,ke,ye,Ce,Se=function(){var e=Object(l.useState)(),t=Object(h.a)(e,2),n=(t[0],t[1],Object(l.useState)(null)),c=Object(h.a)(n,2),i=c[0],r=c[1],o=Object(l.useState)(null),a=Object(h.a)(o,2),s=a[0],j=a[1],b=Object(l.useState)(!1),d=Object(h.a)(b,2),u=d[0],x=d[1],O=Object(l.useState)([]),p=Object(h.a)(O,2),f=p[0],v=p[1],w=Object(l.useState)(""),C=Object(h.a)(w,2),S=C[0],z=C[1],F=Object(l.useState)(""),B=Object(h.a)(F,2),E=B[0],N=B[1],T=Object(l.useContext)(m),P=(T.user,T.setUser,function(){g.a.get("".concat(k,"/posts")).then((function(e){v(e.data)})).catch((function(e){r(e.message)}))});Object(l.useEffect)((function(){P()}),[]);var U=function(){j(null)};return Object(y.jsxs)(W,{children:[u&&Object(y.jsx)(be,{children:"\u6b63\u5728\u9001\u51fa..."}),Object(y.jsxs)(Z,{onSubmit:function(){x(!0),g.a.post("".concat(k,"/create-post"),{inputTitle:S,inputBody:E}).then((function(e){console.log(e),x(!1),P()})).catch((function(e){x(!1),j(e.message)}))},children:[Object(y.jsx)(ee,{rows:2,placeholder:"\u8f38\u5165\u6a19\u984c...",onChange:function(e){z(e.target.value)},onFocus:U}),Object(y.jsx)(te,{rows:10,placeholder:"\u8f38\u5165\u5167\u5bb9...",onChange:function(e){N(e.target.value)},onFocus:U}),Object(y.jsx)(ne,{children:"\u9001\u51fa\u7559\u8a00"}),s&&Object(y.jsx)(ue,{children:s})]}),Object(y.jsx)(X,{children:"\u767c\u8868\u4f60\u5c0d\u80a1\u5e02\u7684\u770b\u6cd5..."}),i&&Object(y.jsxs)(ue,{children:["Something went wrong: ",i.toString()]}),Object(y.jsx)(ce,{children:f.map((function(e){return Object(y.jsx)(de,{id:e.id,author:e.username,title:e.title,content:e.body,time:new Date(e.createdAt).toLocaleString(),children:e.body},e.id)}))})]})},ze=v.c.div(he||(he=Object(x.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Fe=v.c.div(xe||(xe=Object(x.a)(["\n  width: 360px;\n  margin: 0 auto;\n  padding-top: 35px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.grey})),Be=v.c.div(Oe||(Oe=Object(x.a)(["\n  width: 100%;\n"]))),Ee=v.c.input(pe||(pe=Object(x.a)(["\n  width: 75%;\n  height: 50px;\n  margin: 0px 5px 0px 5px;\n  font-size: 20px;\n  border: 0px;\n  border-radius: 8px;\n"]))),Ne=v.c.button(fe||(fe=Object(x.a)(["\n  width: 13%;\n  margin: 0px 5px 0px 5px;\n  height: 50px;\n  cursor: pointer;\n  color: white;\n  font-size: 16px;\n  font-weight: bolder;\n  border: none;\n  border-radius: 8px;\n  background-color: ",";\n\n  : hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.darkBlue}),(function(e){return e.theme.colors.vividBlue})),Te=v.c.div(ge||(ge=Object(x.a)(["\n  width: 100%;\n  margin-top: 20px;\n  padding: 10px;\n  border-radius: 8px;\n  background-color: white;\n  box-sizing: border-box;\n"]))),Pe=v.c.div(ve||(ve=Object(x.a)(["\n  display: flex;\n  width: 100%;\n  padding: 5px;\n  box-sizing: border-box;\n"]))),Ue=v.c.span(me||(me=Object(x.a)(["\n  width: 60%;\n  padding: 0px 5px 0px 5px;\n  font-size : 28px;\n  font-weight: bold;\n  color: black;\n"]))),De=v.c.span(we||(we=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 40%;\n  font-size: 14px;\n"]))),Le=v.c.button(ke||(ke=Object(x.a)(["\n  cursor: pointer;\n  width: 30%;\n  margin: 0px 5px 10px 5px;\n  height: 35px;\n  border-radius: 8px;\n  text-align: center;\n  cursor: pointer;\n  color: white;\n  font-weight: bolder;\n  border: none;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.darkBlue})),$e=v.c.div(ye||(ye=Object(x.a)(["\n  padding: 0px 5px 0px 5px;\n  display: flex;\n  justify-content: space-around;\n"]))),Ae=v.c.div(Ce||(Ce=Object(x.a)(["\n"])));var _e=function(){var e=Object(l.useState)(!0),t=Object(h.a)(e,2),n=t[0],c=t[1],i=Object(l.useState)([]),r=Object(h.a)(i,2),o=r[0],a=r[1],s=Object(l.useState)([]),j=Object(h.a)(s,2),b=j[0],d=j[1],u=Object(l.useState)(!1),x=Object(h.a)(u,2),O=x[0],p=x[1],f=Object(l.useState)(null),v=Object(h.a)(f,2),m=v[0],k=v[1],C=Object(l.useState)([]),S=Object(h.a)(C,2),z=S[0],F=S[1],B=Object(l.useState)([]),E=Object(h.a)(B,2),N=E[0],T=E[1],P=Object(l.useState)(!1),U=Object(h.a)(P,2),D=U[0],L=U[1],$=new Date,A=new Date($-864e5).toLocaleDateString();Object(l.useEffect)((function(){_();var e=setTimeout((function(){c(!1)}),1e3);return function(){return clearTimeout(e)}}),[]),Object(l.useEffect)((function(){k(2330),O&&G()}),[O]);var _=function(){fetch("https://secure-brook-06568.herokuapp.com/").then((function(e){return e.json()})).then((function(e){var t=e.stock_try.filter((function(e){return e.Code<1e4}));d(t),t.length>1e3&&p(!0)})),fetch("https://tranquil-thicket-64578.herokuapp.com/").then((function(e){return e.json()})).then((function(e){var t=e.stock_pe;a(t)}))},G=function(){L(!1),F([]),T([]);var e=b.filter((function(e){return e.Name==m})),t=b.filter((function(e){return e.Code==m})),n=o.filter((function(e){return e.Code==m})),c=o.filter((function(e){return e.Name==m}));0!==t.length||0!==e.length?(0!==t.length&&(F(t),T(n)),0!==e.length&&(F(e),T(c))):(L(!0),F([]),T([]))};return Object(y.jsxs)("div",{children:[n&&Object(y.jsx)(ze,{children:"\u6b63\u5728\u5e6b\u60a8\u8f09\u51651102\u6a94\u53f0\u80a1\u4e2d..."}),!n&&Object(y.jsx)("div",{children:Object(y.jsxs)(Fe,{children:[Object(y.jsx)(Be,{children:Object(y.jsxs)("form",{onSubmit:G,children:[Object(y.jsx)(Ee,{placeholder:"\u8f38\u5165\u4e0a\u5e02\u80a1\u7968\u540d\u7a31/\u4ee3\u865f",onChange:function(e){return k(e.target.value)}}),Object(y.jsx)(Ne,{children:"\u67e5\u8a62"})]})}),D&&Object(y.jsx)("h2",{children:"\u7121\u6548\u7684\u67e5\u8a62\uff0c\u8acb\u8f38\u5165\u6b63\u78ba\u4ee3\u865f\u6216\u540d\u7a31"}),!D&&Object(y.jsxs)(Te,{children:[Object(y.jsxs)(Pe,{children:[Object(y.jsxs)(Ue,{children:[z.map((function(e){return e.Name}))," ",z.map((function(e){return e.Code}))]}),Object(y.jsxs)(De,{children:["\u66f4\u65b0\u6642\u9593 ",A]})]}),Object(y.jsxs)($e,{children:[Object(y.jsxs)(Ae,{children:[Object(y.jsx)("p",{children:"\u80a1\u50f9"}),Object(y.jsx)("p",{children:z.map((function(e){return e.ClosingPrice}))})]}),Object(y.jsxs)(Ae,{children:[Object(y.jsx)("p",{children:"\u6708\u5747\u50f9"}),Object(y.jsx)("p",{children:z.map((function(e){return e.MonthlyAveragePrice}))})]}),Object(y.jsxs)(Ae,{children:[Object(y.jsx)("p",{children:"\u672c\u76ca\u6bd4"}),Object(y.jsx)("p",{children:N.map((function(e){return e.PEratio}))})]}),Object(y.jsxs)(Ae,{children:[Object(y.jsx)("p",{children:"\u6b96\u5229\u7387"}),Object(y.jsx)("p",{children:N.map((function(e){return e.DividendYield}))})]})]}),Object(y.jsx)(Le,{onClick:function(){console.log(z[0].Code),g.a.post("".concat(w,"/my-fav"),{stockCode:z[0].Code}).then((function(e){console.log("post my fav code",e)}))},children:"\u52a0\u5165\u8ffd\u8e64"})]})]})})]})};var Ge=function(){var e=Object(l.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"\u6211\u7684\u6700\u611b\u80a1\u7968"}),Object(y.jsx)("button",{onClick:function(){g.a.get("".concat(w,"/my-fav")).then((function(e){var t=e.data,n=t.map((function(e){return e.stock_code}));console.log(n),c(t)}))},children:"\u62ff\u5230\u6700\u611b\u80a1\u7968"}),n.map((function(e){return Object(y.jsx)("h3",{children:e.stock_code})}))]})};var Ie=function(){var e=Object(l.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],i=Object(l.useState)([]),r=Object(h.a)(i,2),o=r[0],a=r[1],s=Object(l.useContext)(m),j=(s.user,s.setUser);return g.a.defaults.withCredentials=!0,Object(l.useEffect)((function(){g.a.get("".concat(w,"/login")).then((function(e){console.log(e.data.user),e.data.user&&j(e.data.user[0])}))}),[]),Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)("div",{className:"registration",children:[Object(y.jsx)("h1",{children:"Registration"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Username"}),Object(y.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)}})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Password"}),Object(y.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)}})]}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{onClick:function(){g.a.post("".concat(w,"/register"),{username:n,password:o}).then((function(e){}))},children:" Now Register "})})]})})};var Je,Me,Re=function(){var e=Object(l.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],i=Object(l.useState)([]),r=Object(h.a)(i,2),o=r[0],a=r[1],s=Object(l.useState)(""),j=Object(h.a)(s,2),b=j[0],d=j[1],u=Object(l.useContext)(m),x=u.user,O=u.setUser;g.a.defaults.withCredentials=!0;var p=function(){d("")};return Object(l.useEffect)((function(){g.a.get("".concat(w,"/login")).then((function(e){console.log(e.data.user),e.data.user&&O(e.data.user[0])}))}),[]),Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)("div",{className:"login",children:[Object(y.jsx)("h1",{children:"Login"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Username"}),Object(y.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)},onFocus:p})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Password"}),Object(y.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)},onFocus:p})]}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{onClick:function(){g.a.post("".concat(w,"/login"),{username:n,password:o},{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){e.data.message?d(e.data.message):(console.log(e),O(e.data[0]))}))},children:" Now Login "})}),Object(y.jsx)("h1",{children:b}),x&&Object(y.jsxs)("h1",{children:["\u767b\u5165\u72c0\u614b\uff1a",x.username]})]})})},qe=(n(65),v.c.div(Je||(Je=Object(x.a)(["\n  padding-top: 64px;\n"])))),Ye=Object(v.b)(Me||(Me=Object(x.a)(["\n  body {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.grey}));var He=function(){var e=Object(l.useState)(null),t=Object(h.a)(e,2),n=t[0],c=t[1];return g.a.defaults.withCredentials=!0,Object(l.useEffect)((function(){g.a.get("".concat(k,"/login")).then((function(e){e.data.user&&c(e.data.user[0])}))}),[]),Object(y.jsxs)(m.Provider,{value:{user:n,setUser:c},children:[Object(y.jsx)(Ye,{}),Object(y.jsx)(qe,{children:Object(y.jsxs)(O.a,{children:[Object(y.jsx)(V,{}),Object(y.jsxs)(p.c,{children:[Object(y.jsx)(p.a,{exact:!0,path:"/",children:Object(y.jsx)(Se,{})}),Object(y.jsx)(p.a,{exact:!0,path:"/stock-hot",children:Object(y.jsx)(_e,{})}),Object(y.jsx)(p.a,{exact:!0,path:"/profile",children:Object(y.jsx)(Ge,{})}),Object(y.jsx)(p.a,{exact:!0,path:"/register",children:Object(y.jsx)(Ie,{})}),Object(y.jsx)(p.a,{exact:!0,path:"/login",children:Object(y.jsx)(Re,{})})]})]})})]})},Ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),r(e),o(e)}))};u.a.render(Object(y.jsx)(v.a,{theme:{colors:{darkBlue:"#4F62C0",grey:"#F8F7FC",vividBlue:"#ADEAF1"}},children:Object(y.jsx)(b.a.StrictMode,{children:Object(y.jsx)(He,{})})}),document.getElementById("root")),Ke()}},[[66,1,2]]]);
//# sourceMappingURL=main.ac91b018.chunk.js.map