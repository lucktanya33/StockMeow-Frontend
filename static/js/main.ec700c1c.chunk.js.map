{"version":3,"sources":["context.js","utils.js","Header.js","pages/HomePage.js","pages/HotStockPage.js","pages/ProfilePage.js","pages/LoginPage/LoginPage.js","App.js","reportWebVitals.js","index.js"],"names":["AuthContext","createContext","API_PRODUCTION","API_STOCK_REMOTE","HeaderContainer","styled","div","Brand","Link","NavbarList","Nav","props","$active","LogOut","LeftContainer","Header","location","useLocation","useContext","user","setUser","Axios","defaults","withCredentials","to","pathname","onClick","get","then","response","console","log","Page","Title","h2","MessageForm","form","MessageTextArea","textarea","TitleInput","BodyInput","SubmitButton","button","DeleteButton","MessageList","MessageContainer","MessageHead","MessageAuthor","MessageId","MessageTime","MessageTitle","MessageBody","Loading","Message","id","author","time","title","content","deleteTest","ErrorMessage","HomePage","useState","inputValue","setInputValue","messageApiError","setMessageApiError","postMessageError","setPostMessageError","isSubmitting","setIsSubmitting","messages","setMessages","inputTitle","setInputTitle","inputBody","setInputBody","updateMessages","fetch","res","json","data","catch","err","message","useEffect","handleTextareaFocus","method","onSubmit","post","rows","placeholder","onChange","e","target","value","onFocus","preventDefault","headers","body","JSON","stringify","nickname","ok","toString","map","username","Date","createdAt","toLocaleString","HotStockPage","setStockInfo","stockInfoPrice","setStockInfoPrice","stockSearching","setStockSearching","targetStockInfo","setTargetStockInfo","targetStockPrice","setTargetStockPrice","searchingErr","setSearchingErr","getStockPrice","dataSingleStock","stock_try","slice","dataArray","length","targetInfoByName","filter","stockItem","Name","targetInfoByCode","Code","targetPriceInfoByCode","targetPriceInfoByName","item","ClosingPrice","MonthlyAveragePrice","PEratio","DividendYield","ProfilePage","favStock","setFavStock","favStockAPI","stock_code","LoginPage","usernameReg","setUsernameReg","passwordReg","setPasswordReg","setUsername","password","setPassword","errMessageLogin","setErrMessageLogin","clearErrorHint","className","type","Root","App","Provider","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+PACaA,EAAcC,wBAAc,MCC5BC,EAAiB,wCAIjBC,EAAmB,yD,OCE1BC,EAAkBC,IAAOC,IAAV,6PAYfC,EAAQF,YAAOG,IAAPH,CAAH,iHAOLI,EAAaJ,IAAOC,IAAV,sEAKVI,EAAML,YAAOG,IAAPH,CAAH,wOAWL,SAACM,GAAD,OACAA,EAAMC,SAAN,iDAMEC,EAASR,IAAOC,IAAV,wOAWR,SAACK,GAAD,OACAA,EAAMC,SAAN,iDAMEE,EAAgBT,IAAOC,IAAV,6GAIfG,GA6CWM,I,oCAAAA,EAxCf,WAEE,IAAMC,EAAWC,cACjB,EAA0BC,qBAAWlB,GAA7BmB,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAWd,OAVAC,IAAMC,SAASC,iBAAkB,EAW/B,eAACnB,EAAD,WACA,eAACU,EAAD,WACA,cAACP,EAAD,CAAOiB,GAAG,IAAV,gCACA,eAACf,EAAD,WACE,cAACC,EAAD,CAAKc,GAAG,IAAIZ,QAA+B,MAAtBI,EAASS,SAA9B,0BACA,cAACf,EAAD,CAAKc,GAAG,YAAYZ,QAA+B,cAAtBI,EAASS,SAAtC,0BACA,cAACf,EAAD,CAAKc,GAAG,WAAWZ,QAA+B,aAAtBI,EAASS,SAArC,0BACA,cAACf,EAAD,CAAKc,GAAG,aAAaZ,QAA+B,eAAtBI,EAASS,SAAvC,gCAGF,eAAChB,EAAD,YACIU,GACA,cAACT,EAAD,CAAKc,GAAG,SAASZ,QAA+B,WAAtBI,EAASS,SAAnC,0BAEDN,GACD,cAACT,EAAD,CAAKc,GAAG,WAAWZ,QAA+B,aAAtBI,EAASS,SAArC,0BAECN,GACC,cAACN,EAAD,CAAQa,QA1BO,WACnBN,EAAQ,MACRC,IAAMM,IAAN,UAAazB,EAAb,YACC0B,MAAK,SAACC,GACLC,QAAQC,IAAI,aAAcF,OAsBxB,iCCtGFG,EAAO3B,IAAOC,IAAV,gEAIJ2B,EAAQ5B,IAAO6B,GAAV,4CAGLC,EAAc9B,IAAO+B,KAAV,iDAGXC,EAAkBhC,IAAOiC,SAAV,4CAIfC,EAAalC,IAAOiC,SAAV,4CAGVE,GAAYnC,IAAOiC,SAAV,4CAGTG,GAAepC,IAAOqC,OAAV,gDAIZC,GAAetC,IAAOqC,OAAV,gDAGZE,GAAcvC,IAAOC,IAAV,iDAGXuC,GAAmBxC,IAAOC,IAAV,4JAShBwC,GAAczC,IAAOC,IAAV,wKAOXyC,GAAgB1C,IAAOC,IAAV,6CAIb0C,GAAY3C,IAAOC,IAAV,6CAGT2C,GAAc5C,IAAOC,IAAV,0BACX4C,GAAe7C,IAAOC,IAAV,sEAIZ6C,GAAc9C,IAAOC,IAAV,0BACX8C,GAAU/C,IAAOC,IAAV,gPAcb,SAAS+C,GAAT,GAAoE,IAAjDC,EAAgD,EAAhDA,GAAIC,EAA4C,EAA5CA,OAAQC,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,WACnD,OACE,eAACd,GAAD,WACE,eAACC,GAAD,WACE,cAACE,GAAD,UAAYM,IACZ,cAACP,GAAD,UAAgBQ,IAChB,cAACN,GAAD,UAAcO,OAEhB,cAACN,GAAD,UAAeO,IACf,cAACN,GAAD,UAAcO,IACd,cAACf,GAAD,CAAcjB,QAAS,WAAOiC,EAAWL,IAAzC,6BAKN,IAAMM,GAAevD,IAAOC,IAAV,2CA6JHuD,OAzJf,WAEE,MAAoCC,qBAApC,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAA8CF,mBAAS,MAAvD,mBAAOG,EAAP,KAAwBC,EAAxB,KACA,EAAgDJ,mBAAS,MAAzD,mBAAOK,EAAP,KAAyBC,EAAzB,KACA,EAAwCN,oBAAS,GAAjD,mBAAOO,EAAP,KAAqBC,EAArB,KAGA,EAAgCR,mBAAS,IAAzC,mBAAOS,EAAP,KAAiBC,EAAjB,KACA,EAAoCV,mBAAS,IAA7C,mBAAOW,EAAP,KAAmBC,EAAnB,KACA,EAAkCZ,mBAAS,IAA3C,mBAAOa,EAAP,KAAkBC,EAAlB,KAGA,EAA0B1D,qBAAWlB,GAE/B6E,GAFN,EAAQ1D,KAAR,EAAcC,QAES,WACrB0D,MA/GiB,+CAgHhBlD,MAAK,SAAAmD,GAAG,OAAIA,EAAIC,UAChBpD,MAAK,SAACqD,GACLT,EAAYS,MAEbC,OAAM,SAACC,GACNjB,EAAmBiB,EAAIC,cAoB3BC,qBAAU,WACRR,MACC,IAEH,IAuCMS,EAAsB,WAC1BlB,EAAoB,OAGhBT,EAAa,SAACL,GAClBwB,MAAM,+CAAD,OAAiDxB,GAAM,CAC1DiC,OAAQ,WAET3D,MAAK,SAAAC,GAAQ,OAAIA,EAASmD,UAC1BpD,MAAK,SAAAqD,GAAI,OAAIJ,OACbK,OAAM,SAAAC,GAAG,OAAIrD,QAAQC,IAAIoD,OAG5B,OACE,eAACnD,EAAD,WACGqC,GAAgB,cAACjB,GAAD,0CACjB,wBAAQ1B,QA3EY,WACtBL,IAAMM,IAAN,UAAazB,EAAb,WACC0B,MAAK,SAACC,GACL2C,EAAY3C,EAASoD,UAwErB,6BACA,eAAC9C,EAAD,CAAaqD,SArES,WACxBnE,IAAMoE,KAAN,UAAcvF,EAAd,gBAA4C,CAACuE,aAAYE,cACxD/C,MAAK,SAACC,GACLC,QAAQC,IAAIF,OAkEZ,UACE,cAACU,EAAD,CACAmD,KAAM,EACNC,YAAa,8BACbC,SAAU,SAACC,GAAOnB,EAAcmB,EAAEC,OAAOC,QACzCC,QAASV,IAET,cAAC9C,GAAD,CACAkD,KAAM,GACNC,YAAa,8BACbC,SAAU,SAACC,GAAOjB,EAAaiB,EAAEC,OAAOC,QACxCC,QAASV,IAET,cAAC7C,GAAD,uCACC0B,GAAoB,cAACP,GAAD,UAAeO,OAGtC,cAAClC,EAAD,wEACA,eAACE,EAAD,CAAaqD,SAtEQ,SAAAK,GACvBA,EAAEI,iBAEE5B,IAGJC,GAAgB,GAEhBQ,MAAM,8CAA+C,CACnDS,OAAQ,OACRW,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,SAAU,MACVH,KAAMpC,MAGTnC,MAAK,SAAAmD,GAAG,OAAIA,EAAIC,UAChBpD,MAAK,SAACqD,GAEL,GADAX,GAAgB,GACA,IAAZW,EAAKsB,GAGP,OAFAjC,GAAgB,QAChBF,EAAoBa,EAAKG,SAG3BP,IACAb,EAAc,OAEfkB,OAAM,SAAAC,GACLb,GAAgB,GAChBF,EAAoBe,EAAIC,cAuCxB,UACE,cAAC/C,EAAD,CACAqD,KAAM,GACNK,MAAOhC,EACP6B,SA9EuB,SAAAC,GAC3B7B,EAAc6B,EAAEC,OAAOC,QA8EnBC,QAASV,IAET,cAAC7C,GAAD,uCACC0B,GAAoB,cAACP,GAAD,UAAeO,OAErCF,GACD,eAACL,GAAD,oCACyBK,EAAgBuC,cAEzC,cAAC5D,GAAD,UACG2B,EAASkC,KAAI,SAAArB,GAAO,OACnB,cAAC/B,GAAD,CAEAC,GAAI8B,EAAQ9B,GACZC,OAAQ6B,EAAQsB,SAChBjD,MAAO2B,EAAQ3B,MACfC,QAAS0B,EAAQe,KACjB3C,KAAM,IAAImD,KAAKvB,EAAQwB,WAAWC,iBAClClD,WAAYA,EAPZ,SASCyB,EAAQe,MARJf,EAAQ9B,aChJRwD,OAzFf,WAGE,MAAkChD,mBAAS,IAA3C,mBAAkBiD,GAAlB,WACA,EAA4CjD,mBAAS,IAArD,mBAAOkD,EAAP,KAAuBC,EAAvB,KAEA,EAA4CnD,mBAAS,MAArD,mBAAOoD,EAAP,KAAuBC,EAAvB,KAEA,EAA8CrD,mBAAS,IAAvD,mBAAOsD,EAAP,KAAwBC,EAAxB,KACA,EAAgDvD,mBAAS,IAAzD,mBAAOwD,EAAP,KAAyBC,EAAzB,KACA,EAAwCzD,mBAAS,MAAjD,mBAAO0D,EAAP,KAAqBC,EAArB,KAEMC,EAAgB,WACpB5C,MAAM,GAAD,OAAI3E,EAAJ,eACJyB,MAAK,SAAAC,GACH,OAAQA,EAASmD,UAEnBpD,MAAM,SAAAqD,GACL,IAEM0C,EAFY1C,EAAK2C,UAEWC,MAAM,MAAO,OAC/CZ,EAAkBU,OA6CtB,OACE,gCACA,0DACA,wBAAQjG,QAASgG,EAAjB,6BACA,uBAAMlC,SA7Ca,WAEnB6B,EAAmB,IACnBE,EAAoB,IAEpBzC,MAAM,GAAD,OAAI3E,EAAJ,aACJyB,MAAK,SAAAC,GACH,OAAQA,EAASmD,UAEnBpD,MAAM,SAAAqD,GACL,IAAM6C,EAAY7C,EAAK2C,UACvB9F,QAAQC,IAAI+F,EAAUC,QACtBhB,EAAae,GACbJ,IAEA,IAAMM,EAAmBF,EAAUG,QAAO,SAAAC,GAAS,OAAIA,EAAUC,MAAQjB,KACnEkB,EAAmBN,EAAUG,QAAO,SAAAC,GAAS,OAAIA,EAAUG,MAAQnB,KAGzE,GADoD,IAA5BkB,EAAiBL,QAA4C,IAA5BC,EAAiBD,OACtD,CAElB,IAAMO,EAAwBtB,EAAeiB,QAAO,SAAAC,GAAS,OAAIA,EAAUG,MAAQnB,KAC7EqB,EAAwBvB,EAAeiB,QAAO,SAAAC,GAAS,OAAIA,EAAUC,MAAQjB,KAClD,IAA5BkB,EAAiBL,SACpBV,EAAmBe,GACnBb,EAAoBe,IAEW,IAA5BN,EAAiBD,SACpBV,EAAmBW,GACnBT,EAAoBgB,SAGtBd,EAAgB,8FAChBJ,EAAmB,IACnBE,EAAoB,QAWxB,UACE,uBACA5B,YAAY,gEACZC,SAAU,SAACC,GAAD,OAAOsB,EAAkBtB,EAAEC,OAAOC,QAC5CC,QAXsB,WACxByB,EAAgB,SAYd,qDAEF,6BAAKD,IACL,gCACE,qDAASJ,EAAgBX,KAAI,SAAA+B,GAAI,OAAIA,EAAKL,WAC1C,qDAASb,EAAiBb,KAAI,SAAA+B,GAAI,OAAIA,EAAKC,mBAC3C,2DAAUnB,EAAiBb,KAAI,SAAA+B,GAAI,OAAIA,EAAKE,0BAC5C,2DAAUtB,EAAgBX,KAAI,SAAA+B,GAAI,OAAIA,EAAKG,cAC3C,2DAAUvB,EAAgBX,KAAI,SAAA+B,GAAI,OAAIA,EAAKI,2BC5DlCC,OAtBf,WAEE,MAAgC/E,mBAAS,IAAzC,mBAAOgF,EAAP,KAAiBC,EAAjB,KAYA,OACE,gCACA,sEACA,wBAAQrH,QAbO,WACfL,IAAMM,IAAN,UJVsB,wBIUtB,YAAiCC,MACjC,SAACC,GACC,IAAMiG,EAAYjG,EAASoD,KACrB+D,EAAclB,EAAUrB,KAAI,SAAA+B,GAAI,OAAIA,EAAKS,cAC/CnH,QAAQC,IAAIiH,GACZD,EAAYjB,OAOd,kDACCgB,EAASrC,KAAI,SAAA+B,GAAI,OAAI,6BAAKA,EAAKS,oBCiFrBC,I,GAAAA,GApGf,WACA,MAAsCpF,mBAAS,IAA/C,mBAAOqF,EAAP,KAAoBC,EAApB,KACA,EAAsCtF,mBAAS,IAA/C,mBAAOuF,EAAP,KAAoBC,EAApB,KAEA,EAAgCxF,mBAAS,IAAzC,mBAAO4C,EAAP,KAAiB6C,EAAjB,KACA,EAAgCzF,mBAAS,IAAzC,mBAAO0F,EAAP,KAAiBC,EAAjB,KAEA,EAA8C3F,mBAAS,IAAvD,mBAAO4F,EAAP,KAAwBC,EAAxB,KAEA,EAA0BzI,qBAAWlB,GAA7BmB,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAEdC,IAAMC,SAASC,iBAAkB,EAEjC,IAuBMqI,EAAiB,WACrBD,EAAmB,KAcnB,OAVFtE,qBAAU,WACRhE,IAAMM,IAAN,UAAazB,EAAb,WACC0B,MAAK,SAACC,GACLC,QAAQC,IAAIF,EAASoD,KAAK9D,MACvBU,EAASoD,KAAK9D,MACfC,EAAQS,EAASoD,KAAK9D,KAAK,SAG9B,IAGC,sBAAK0I,UAAU,MAAf,UACE,sBAAKA,UAAU,eAAf,UACE,8CACA,gCACE,6CACA,uBACEC,KAAK,OACLlE,SAAU,SAACC,GAAD,OAAOuD,EAAevD,EAAEC,OAAOC,aAG7C,gCACE,6CACA,uBACE+D,KAAK,OACLlE,SAAU,SAACC,GAAD,OAAOyD,EAAezD,EAAEC,OAAOC,aAG7C,8BACE,wBAAQrE,QAzDK,WACrBL,IAAMoE,KAAN,UAAcvF,EAAd,aAAyC,CACvCwG,SAAUyC,EACVK,SAAUH,IACTzH,MAAK,SAACC,QAqDD,iCAGJ,sBAAKgI,UAAU,QAAf,UACE,uCACA,gCACE,6CACA,uBACEC,KAAK,OACLlE,SAAU,SAACC,GAAD,OAAO0D,EAAY1D,EAAEC,OAAOC,QACtCC,QAAS4D,OAGb,gCACE,6CACA,uBACEE,KAAK,OACLlE,SAAU,SAACC,GAAD,OAAO4D,EAAY5D,EAAEC,OAAOC,QACtCC,QAAS4D,OAGb,8BACE,wBAAQlI,QAvEE,WAClBL,IAAMoE,KAAN,UAAcvF,EAAd,UAAsC,CACpCwG,SAAUA,EACV8C,SAAUA,GACT,CACDtD,QAAS,CAAC,eAAgB,qCACzBtE,MAAK,SAACC,GACHA,EAASoD,KAAKG,QAChBuE,EAAmB9H,EAASoD,KAAKG,SAEjChE,EAAQS,EAASoD,KAAK,QA6DlB,2BAEF,6BAAKyE,IACJvI,GAAQ,gEAAUA,EAAKuF,mBCtF1BqD,I,MAAO1J,IAAOC,IAAV,qDA2CK0J,OAvCf,WACA,MAAwBlG,mBAAS,MAAjC,mBAAO3C,EAAP,KAAaC,EAAb,KAYA,OAXAC,IAAMC,SAASC,iBAAkB,EAGjC8D,qBAAU,WACRhE,IAAMM,IAAN,UAAazB,EAAb,WACC0B,MAAK,SAACC,GACFA,EAASoD,KAAK9D,MACfC,EAAQS,EAASoD,KAAK9D,KAAK,SAG9B,IAED,cAACnB,EAAYiK,SAAb,CAAsBlE,MAAO,CAAC5E,OAAMC,WAApC,SACA,cAAC2I,GAAD,UACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,0DACC5I,GAAI,UAAOA,EAAKuF,SAAZ,sBACL,eAAC,IAAD,WACE,cAAC,IAAD,CAAOwD,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,aAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,GAAD,iBCrCKC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB1I,MAAK,YAAkD,IAA/C2I,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.ec700c1c.chunk.js","sourcesContent":["import { createContext } from \"react\";\nexport const AuthContext = createContext(null);","// API-網站系統\nexport  const API_LOCAL = \"http://localhost:3001\"\nexport const API_PRODUCTION = \"https://lit-earth-99012.herokuapp.com\"\n\n// API-股票資訊\nexport const API_STOCK_LOCAL = \"http://192.168.64.4/api_stock\"\nexport const API_STOCK_REMOTE = \"http://mentor-program.co/mtr04group1/lucktanya33/stock\"\n","import { useContext } from \"react\"\nimport Axios from \"axios\";\nimport styled from \"styled-components\"\nimport { Link, useLocation } from \"react-router-dom\";\nimport { AuthContext } from './context'\nimport { API_LOCAL, API_PRODUCTION } from \"./utils\";\n\n// styles\nconst HeaderContainer = styled.div`\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  box-sizing: border-box;\n`\nconst Brand = styled(Link)`\n  font-size: 32px;\n  font-weight: bold;\n  color: black;\n  text-decoration: none;\n`\n\nconst NavbarList = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst Nav = styled(Link)`\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ${(props) => \n    props.$active && \n    `\n    background: rgba(0, 0, 0, 0.1);\n    `}\n`\n\nconst LogOut = styled.div`\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ${(props) => \n    props.$active && \n    `\n    background: rgba(0, 0, 0, 0.1);\n    `}\n`\n\nconst LeftContainer = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${NavbarList} {\n    margin-left: 64px;\n  }\n`\n\nfunction Header() {\n  // React router USAGE\n  const location = useLocation()//location.pathname可以知道現在點擊的路徑\n  const { user, setUser } = useContext(AuthContext)\n  Axios.defaults.withCredentials = true\n  \n  // functions\n  const handleLogOut = () => {\n    setUser(null)\n    Axios.get(`${API_PRODUCTION}/logout`)\n    .then((response) => {\n      console.log('GET LOGOUT', response)\n    })\n  }\n  return (\n    <HeaderContainer>\n    <LeftContainer>\n    <Brand to=\"/\">玩股喵</Brand>\n    <NavbarList>    \n      <Nav to=\"/\" $active={location.pathname === '/'}>首頁</Nav>\n      <Nav to=\"/register\" $active={location.pathname === '/register'}>註冊</Nav>\n      <Nav to=\"/posting\" $active={location.pathname === '/posting'}>發布</Nav>\n      <Nav to=\"/stock-hot\" $active={location.pathname === '/stock-hot'}>熱門</Nav>\n    </NavbarList>\n    </LeftContainer>\n    <NavbarList>\n      {!user && (\n        <Nav to=\"/login\" $active={location.pathname === '/login'}>登入</Nav>\n      )}\n      {user && (       \n      <Nav to=\"/profile\" $active={location.pathname === '/profile'}>個人</Nav>\n      )}      \n      {user && (       \n        <LogOut onClick={handleLogOut}>登出</LogOut>\n      )}\n    </NavbarList>\n    </HeaderContainer>\n  )\n}\n\nexport default Header;\n","import React, { useState, useEffect, useContext } from \"react\"\nimport Axios from \"axios\";\nimport styled from \"styled-components\"\nimport { API_PRODUCTION } from \"../utils\";\nimport { AuthContext } from \"../context\"\nconst API_ENDPOINT = 'https://student-json-api.lidemy.me/comments'\n\n// styled components\nconst Page = styled.div`\n  width: 360px;\n  margin: 0 auto;\n`\nconst Title = styled.h2`\n  color: #333;\n`\nconst MessageForm = styled.form`\n  margin-top: 16px;\n`\nconst MessageTextArea = styled.textarea`\n  width: 100%;\n`\n\nconst TitleInput = styled.textarea`\n  width: 100%;\n`\nconst BodyInput = styled.textarea`\n  width: 100%;\n`\nconst SubmitButton = styled.button`\n  margin-top: 8px;\n`\n\nconst DeleteButton = styled.button`\n  margin-top: 8px;\n`\nconst MessageList = styled.div`\n  margin-top: 16px;\n`\nconst MessageContainer = styled.div`\n  border: 1px solid black;\n  border-radius: 8px;\n  padding: 8px 16px;\n\n  &:not(:first-child) {\n    margin-top: 12px;\n  }\n`\nconst MessageHead = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid lightgrey;\n  padding-bottom: 4px;\n`\nconst MessageAuthor = styled.div`\n  color: black;\n`\n\nconst MessageId = styled.div`\n  color: black;\n`\nconst MessageTime = styled.div``\nconst MessageTitle = styled.div`\n  font-weight: bold;\n  font-size: 20px;\n`\nconst MessageBody = styled.div``\nconst Loading = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n\nfunction Message({ id, author, time, title, content, deleteTest }) {\n  return(\n    <MessageContainer>\n      <MessageHead>\n        <MessageId>{id}</MessageId>\n        <MessageAuthor>{author}</MessageAuthor>\n        <MessageTime>{time}</MessageTime>\n      </MessageHead>\n      <MessageTitle>{title}</MessageTitle>\n      <MessageBody>{content}</MessageBody>\n      <DeleteButton onClick={() => {deleteTest(id)}}>刪除</DeleteButton>\n    </MessageContainer>\n  )\n}\n\nconst ErrorMessage = styled.div`\n  color: red;\n`\n\nfunction HomePage() {\n  // States\n  const [inputValue, setInputValue] = useState()\n  const [messageApiError, setMessageApiError] = useState(null)\n  const [postMessageError, setPostMessageError] = useState(null)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  // states2 \n  const [messages, setMessages] = useState([])\n  const [inputTitle, setInputTitle] = useState('')\n  const [inputBody, setInputBody] = useState('')\n  \n  // contexts\n  const { user, setUser } = useContext(AuthContext)\n\n  const updateMessages = () => {\n    fetch(API_ENDPOINT)\n    .then(res => res.json())\n    .then((data) => {\n      setMessages(data)\n    })\n    .catch((err) => {\n      setMessageApiError(err.message)\n    })\n  }\n\n  const updateMessages2 = () => {\n    Axios.get(`${API_PRODUCTION}/posts`)\n    .then((response) => {\n      setMessages(response.data)\n    })\n  }\n\n  const handleFormSubmit2 = () => {\n    Axios.post(`${API_PRODUCTION}/create-post`, {inputTitle, inputBody})\n    .then((response) => {\n      console.log(response);\n    })\n  }\n\n  // useEffect\n  // render 完成之後串 API 拿資料\n  useEffect(() => {\n    updateMessages()\n  }, [])\n\n  const handleTextareaChange = e => {\n    setInputValue(e.target.value)\n  }\n\n  const handleFormSubmit = e => {\n    e.preventDefault()\n    // 預防連續點擊-如果已經按下submitting 就return這個function\n    if (isSubmitting) {\n     return \n    }\n    setIsSubmitting(true)\n    // 串API-送出留言\n    fetch('https://student-json-api.lidemy.me/comments', {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        nickname: 'hey',\n        body: inputValue\n      })\n    })\n    .then(res => res.json())\n    .then((data) => {\n      setIsSubmitting(false)\n      if (data.ok === 0) {\n        setIsSubmitting(false)\n        setPostMessageError(data.message)\n        return\n      }\n      updateMessages()\n      setInputValue('')\n    })\n    .catch(err => {\n      setIsSubmitting(false)\n      setPostMessageError(err.message)\n    })\n  }\n\n  const handleTextareaFocus = () => {// onFocus游標移過去textarea框框時要做的事ㄋ\n    setPostMessageError(null)\n  }\n\n  const deleteTest = (id) => {\n    fetch( `https://student-json-api.lidemy.me/comments/${id}`, {\n      method: 'DELETE'\n    })\n    .then(response => response.json())\n    .then(data => updateMessages()) \n    .catch(err => console.log(err)) \n  }\n\n  return (\n    <Page>\n      {isSubmitting && <Loading>正在送出...</Loading>}\n      <button onClick={updateMessages2}>測試API</button>\n      <MessageForm onSubmit={handleFormSubmit2}>\n        <TitleInput\n        rows={2}\n        placeholder={\"輸入標題...\"}\n        onChange={(e) => {setInputTitle(e.target.value)}}\n        onFocus={handleTextareaFocus}        \n        />\n        <BodyInput\n        rows={10}\n        placeholder={\"輸入內容...\"}\n        onChange={(e) => {setInputBody(e.target.value)}}\n        onFocus={handleTextareaFocus}\n        />\n        <SubmitButton>送出留言</SubmitButton>\n        {postMessageError && <ErrorMessage>{postMessageError}</ErrorMessage>}\n      </MessageForm>\n\n      <Title>發表你對股市的看法...</Title>\n      <MessageForm onSubmit={handleFormSubmit}>\n        <MessageTextArea\n        rows={10}\n        value={inputValue}\n        onChange={handleTextareaChange}\n        onFocus={handleTextareaFocus}\n        />\n        <SubmitButton>送出留言</SubmitButton>\n        {postMessageError && <ErrorMessage>{postMessageError}</ErrorMessage>}\n      </MessageForm>\n      {messageApiError && (\n      <ErrorMessage>\n        Something went wrong: {messageApiError.toString()}\n      </ErrorMessage>)}\n      <MessageList>\n        {messages.map(message => (\n          <Message\n          key={message.id}\n          id={message.id}\n          author={message.username}\n          title={message.title}\n          content={message.body}\n          time={new Date(message.createdAt).toLocaleString()}\n          deleteTest={deleteTest}\n          >\n          {message.body}\n          </Message>\n        ))}\n      </MessageList>\n    </Page>\n  );\n}\n\nexport default HomePage;\n","import { useState, useEffect, useContext } from 'react'\nimport Axios from 'axios'\nimport { API_STOCK_LOCAL, API_STOCK_REMOTE } from './../utils'\n\nfunction HotStockPage() {\n  // states\n  // API拿到的資料\n  const [stockInfo, setStockInfo] = useState([])\n  const [stockInfoPrice, setStockInfoPrice] = useState([])\n  // 輸入查詢\n  const [stockSearching, setStockSearching] = useState(null)\n  // 查詢後結果\n  const [targetStockInfo, setTargetStockInfo] = useState([])\n  const [targetStockPrice, setTargetStockPrice] = useState([])\n  const [searchingErr, setSearchingErr] = useState(null)\n\n  const getStockPrice = () => {\n    fetch(`${API_STOCK_REMOTE}/price.php`)\n    .then(response =>{\n       return  response.json()\n    })\n    .then( data =>{\n      const dataArray = data.stock_try\n      // method-slice\n      const dataSingleStock = dataArray.slice(10037, 11019)\n      setStockInfoPrice(dataSingleStock)\n    })\n  }\n\n  const handleSearch = () => {\n    // 清空\n    setTargetStockInfo([])\n    setTargetStockPrice([])\n\n    fetch(`${API_STOCK_REMOTE}/try.php`)\n    .then(response =>{\n       return  response.json()\n    })\n    .then( data =>{\n      const dataArray = data.stock_try\n      console.log(dataArray.length);\n      setStockInfo(dataArray)\n      getStockPrice()\n      // searching\n      const targetInfoByName = dataArray.filter(stockItem => stockItem.Name == stockSearching)\n      const targetInfoByCode = dataArray.filter(stockItem => stockItem.Code == stockSearching)\n      // 查詢邏輯\n      const validSearching = (targetInfoByCode.length !== 0 || targetInfoByName.length !== 0)\n      if (validSearching) {\n        // 拿股價資訊\n        const targetPriceInfoByCode = stockInfoPrice.filter(stockItem => stockItem.Code == stockSearching)\n        const targetPriceInfoByName = stockInfoPrice.filter(stockItem => stockItem.Name == stockSearching)\n        if ( targetInfoByCode.length !== 0) {\n          setTargetStockInfo(targetInfoByCode)\n          setTargetStockPrice(targetPriceInfoByCode)\n        }\n        if ( targetInfoByName.length !== 0) {\n          setTargetStockInfo(targetInfoByName)\n          setTargetStockPrice(targetPriceInfoByName)\n        }\n      } else {\n        setSearchingErr('無效的查詢，請輸入正確股票名稱')\n        setTargetStockInfo([])\n        setTargetStockPrice([])\n      }\n    })\n  }\n  const clearSearchingErr = () => {\n    setSearchingErr(null)\n  }\n  return (\n    <div>\n    <h1>熱門股票</h1>\n    <button onClick={getStockPrice}>測試API</button>\n    <form onSubmit={handleSearch}>\n      <input\n      placeholder=\"輸入上市股票名稱/代號\"\n      onChange={(e) => setStockSearching(e.target.value)}\n      onFocus={clearSearchingErr}\n      />\n      <button>查詢</button>\n    </form>\n    <h2>{searchingErr}</h2>\n    <div>\n      <h3> 名稱：{targetStockInfo.map(item => item.Name)}</h3>\n      <h3> 股價：{targetStockPrice.map(item => item.ClosingPrice)}</h3>\n      <h3> 月均價：{targetStockPrice.map(item => item.MonthlyAveragePrice)}</h3>\n      <h3> 本益比：{targetStockInfo.map(item => item.PEratio)}</h3>\n      <h3> 殖利率：{targetStockInfo.map(item => item.DividendYield)}</h3>\n    </div>\n    </div>\n  )\n}\nexport default HotStockPage;\n","import { useState, useEffect, useContext } from 'react'\nimport Axios from 'axios'\nimport { API_LOCAL } from './../utils'\nimport { AuthContext } from './../context'\n\n\nfunction ProfilePage() {\n  // states\n  const [favStock, setFavStock] = useState([])\n\n  const getMyFav = () => {\n    Axios.get(`${API_LOCAL}/my-fav`).then(\n    (response) => {\n      const dataArray = response.data\n      const favStockAPI = dataArray.map(item => item.stock_code)\n      console.log(favStockAPI);\n      setFavStock(dataArray)\n    })\n  }\n\n  return (\n    <div>\n    <h1>我的最愛股票</h1>\n    <button onClick={getMyFav}>拿到最愛股票</button>\n    {favStock.map(item => <h3>{item.stock_code}</h3>)}\n    </div>\n  )\n}\nexport default ProfilePage;\n","import { useState, useEffect, useContext } from 'react'\nimport Axios from 'axios'\nimport { API_PRODUCTION } from '../../utils'\nimport { AuthContext } from '../../context'\n\nfunction LoginPage() {\nconst [usernameReg, setUsernameReg] = useState([])\nconst [passwordReg, setPasswordReg] = useState([])\n\nconst [username, setUsername] = useState([])\nconst [password, setPassword] = useState([])\n\nconst [errMessageLogin, setErrMessageLogin] = useState('')\n\nconst { user, setUser } = useContext(AuthContext)\n\nAxios.defaults.withCredentials = true\n\nconst handleRegister = () => {\n  Axios.post(`${API_PRODUCTION}/register`, {\n    username: usernameReg,\n    password: passwordReg\n  }).then((response) => {\n  })\n}\n\nconst handleLogin = () => {\n  Axios.post(`${API_PRODUCTION}/login`, {\n    username: username,\n    password: password\n  }, {\n    headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\n  }).then((response) => {\n    if (response.data.message) {\n      setErrMessageLogin(response.data.message)\n    } else {\n      setUser(response.data[0])\n    }\n  })\n}\n\nconst clearErrorHint = () => {\n  setErrMessageLogin('')\n}\n\n// 拿到登入狀態\nuseEffect(() => {\n  Axios.get(`${API_PRODUCTION}/login`)\n  .then((response) => {\n    console.log(response.data.user)\n    if(response.data.user) {\n      setUser(response.data.user[0])\n    }\n  })\n}, [])\n\n  return (\n    <div className=\"App\">\n      <div className=\"registration\">\n        <h1>Registration</h1>\n        <div>\n          <label>Username</label>\n          <input \n            type=\"text\"\n            onChange={(e) => setUsernameReg(e.target.value)}\n            />\n        </div>\n        <div>  \n          <label>Password</label>\n          <input\n            type=\"text\"\n            onChange={(e) => setPasswordReg(e.target.value)}\n          />\n        </div>\n        <div>\n          <button onClick={handleRegister}> Now Register </button> \n        </div>\n      </div>\n      <div className=\"login\">\n        <h1>Login</h1>\n        <div>\n          <label>Username</label>\n          <input\n            type=\"text\"\n            onChange={(e) => setUsername(e.target.value)}\n            onFocus={clearErrorHint}          \n            />\n        </div>\n        <div>  \n          <label>Password</label>\n          <input\n            type=\"text\"\n            onChange={(e) => setPassword(e.target.value)} \n            onFocus={clearErrorHint}           \n            />\n        </div>\n        <div>\n          <button onClick={handleLogin}> Now Login </button> \n        </div>\n        <h1>{errMessageLogin}</h1>\n        {user && <h1>登入狀態：{user.username}</h1>}\n      </div>    \n    </div>\n  );\n}\nexport default LoginPage;\n","import { useState, useEffect } from \"react\"\nimport { HashRouter as Router, Switch, Route, useParams } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport styled from \"styled-components\";\nimport Header from \"./Header\";\nimport HomePage from \"./pages/HomePage\";\nimport HotStockPage from \"./pages/HotStockPage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport LoginPage  from './pages/LoginPage/LoginPage';\nimport './App.css';\nimport { API_PRODUCTION } from \"./utils\";\nimport { AuthContext } from \"./context\";\n\n// styles\nconst Root = styled.div`\n  padding-top: 64px;\n`\n\nfunction App() {\nconst [user, setUser] = useState(null)\nAxios.defaults.withCredentials = true\n\n// 拿到登入狀態\nuseEffect(() => {\n  Axios.get(`${API_PRODUCTION}/login`)\n  .then((response) => {\n    if(response.data.user) {\n      setUser(response.data.user[0])\n    }\n  })\n}, [])\nreturn (\n  <AuthContext.Provider value={{user, setUser}}>\n  <Root>\n    <Router>\n      <Header />\n      <h3>登入狀態</h3>\n      {user && `${user.username}已登入`}\n      <Switch>   \n        <Route exact path=\"/\">\n          <HomePage />\n        </Route>\n        <Route exact path=\"/stock-hot\">\n          <HotStockPage />\n        </Route>\n        <Route exact path=\"/profile\">\n          <ProfilePage />\n        </Route>              \n        <Route exact path=\"/login\">\n          <LoginPage />\n        </Route>     \n      </Switch>\n    </Router>\n  </Root>\n  </AuthContext.Provider>\n);\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}