{"version":3,"sources":["context.js","utils.js","Header.js","StyleComponents.js","pages/DiscussPage.js","pages/SearchPage.js","pages/ProfilePage.js","pages/RegisterPage.js","pages/LoginPage.js","App.js","reportWebVitals.js","index.js"],"names":["AuthContext","createContext","API_LOCAL","API_PRODUCTION","HeaderContainer","styled","div","props","theme","colors","grey","NavbarList","LeftContainer","Nav","Link","$active","darkBlue","Brand","darkGrey","LoginHint","LogOut","Header","location","useLocation","useContext","user","setUser","Axios","defaults","withCredentials","to","username","pathname","onClick","get","then","response","console","log","TitlePage","h1","Input","input","InputTitle","ButtonSubmit","button","ButtonSmall","Page","MessageForm","form","TitleInput","textarea","BodyInput","MessageList","MessageContainer","MessageHead","MessageAuthor","MessageTime","MessageTitle","MessageBody","Loading","Message","id","author","time","title","content","ErrorMessage","HomePage","useState","messageApiError","setMessageApiError","postMessageError","setPostMessageError","isSubmitting","setIsSubmitting","messages","setMessages","inputTitle","setInputTitle","inputBody","setInputBody","useEffect","updateMessages","data","catch","err","message","handleTextareaFocus","onSubmit","post","rows","placeholder","onChange","e","target","value","onFocus","toString","map","body","Date","createdAt","toLocaleString","SearchArea","SearchInput","SearchButton","vividBlue","TargetWrap","TargetHeader","TargetName","span","Time","TargetInfo","Info","ButtonCompare","HotStockPage","LoadingPage","setLoadingPage","stockInfoPE","setStockInfoPE","stockInfoPrice","setStockInfoPrice","isInfoLoaded","setIsInfoLoaded","stockSearching","setStockSearching","Code","Name","ClosingPrice","MonthlyAveragePrice","targetPrice","setTargetPrice","targetPE","setTargetPE","searchFail","setSearchFail","searchDelay","setSearchDelay","errorCompare","setErrorCompare","name","price","comparedTarget","setComparedTarget","today","latestTime","toLocaleDateString","useRef","setStockInfo","timer","setTimeout","clearTimeout","fetch","json","dataPrice","stock_new","toArray","Object","values","PE","stock_pe","targetPriceByName","filter","stockItem","targetPriceByCode","targetPEByCode","targetPEByName","length","item","PEratio","DividendYield","stockCode","repeat","current","ProfilePage","favStock","setFavStock","dataArray","favStockAPI","stock_code","LoginPage","usernameReg","setUsernameReg","passwordReg","setPasswordReg","className","type","password","setUsername","setPassword","errMessageLogin","setErrMessageLogin","clearErrorHint","headers","Root","GlobalStyle","createGlobalStyle","App","Provider","exact","path","DiscussPage","SearchPage","RegisterPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iQACaA,EAAcC,wBAAc,MCA3BC,EAAY,wBACbC,EAAiB,wC,OCMxBC,EAAkBC,IAAOC,IAAV,sRAUA,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,OAAOC,QAG3CC,EAAaN,IAAOC,IAAV,sEAIVM,EAAgBP,IAAOC,IAAV,6GAIfK,GAIEE,EAAMR,YAAOS,IAAPT,CAAH,4PAYL,SAACE,GAAD,OACAA,EAAMQ,SAAN,6BAEc,SAAAR,GAAK,OAAIA,EAAMC,MAAMC,OAAOO,WAF1C,cAMEC,EAAQZ,YAAOS,IAAPT,CAAH,qJAKA,SAAAE,GAAK,OAAIA,EAAMC,MAAMC,OAAOS,YAIjCC,EAAYd,IAAOC,IAAV,oKAIJ,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,OAAOO,YAKjCI,EAASf,IAAOC,IAAV,4PAYR,SAACC,GAAD,OACAA,EAAMQ,SAAN,6BAEc,SAAAR,GAAK,OAAIA,EAAMC,MAAMC,OAAOO,WAF1C,cAkDWK,I,oCAAAA,EA5Cf,WAEE,IAAMC,EAAWC,cACjB,EAA0BC,qBAAWxB,GAA7ByB,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAWd,OAVAC,IAAMC,SAASC,iBAAkB,EAW/B,eAACzB,EAAD,WACA,eAACQ,EAAD,WACA,cAACK,EAAD,CAAOa,GAAG,IAAV,gCACA,cAACX,EAAD,UACCM,EAAQ,gBAAOA,EAAKM,SAAY,uBAEjC,eAACpB,EAAD,WACE,cAACE,EAAD,CAAKiB,GAAG,IAAIf,QAA+B,MAAtBO,EAASU,SAA9B,0BACA,cAACnB,EAAD,CAAKiB,GAAG,UAAUf,QAA+B,YAAtBO,EAASU,SAApC,gCAGF,eAACrB,EAAD,YACIc,GACA,cAACZ,EAAD,CAAKiB,GAAG,YAAYf,QAA+B,cAAtBO,EAASU,SAAtC,2BAEAP,GACA,cAACZ,EAAD,CAAKiB,GAAG,SAASf,QAA+B,WAAtBO,EAASU,SAAnC,0BAEDP,GACD,cAACZ,EAAD,CAAKiB,GAAG,WAAWf,QAA+B,aAAtBO,EAASU,SAArC,0BAECP,GACC,cAACL,EAAD,CAAQa,QA9BO,WACnBP,EAAQ,MACRC,IAAMO,IAAN,UAAa/B,EAAb,YACCgC,MAAK,SAACC,GACLC,QAAQC,IAAI,aAAcF,OA0BxB,iCC5HKG,EAAYlC,IAAOmC,GAAV,wDACb,SAAAjC,GAAK,OAAIA,EAAMC,MAAMC,OAAOS,YAIxBuB,EAAQpC,IAAOqC,MAAV,uIAQLC,EAAatC,IAAOC,IAAV,2MAUd,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,OAAOS,YAGxB0B,GAAevC,IAAOwC,OAAV,wSAWL,SAAAtC,GAAK,OAAIA,EAAMC,MAAMC,OAAOO,YAGrC,SAAAT,GAAK,OAAIA,EAAMC,MAAMC,OAAOO,YAI1B8B,GAAczC,IAAOwC,OAAV,6OAWJ,SAAAtC,GAAK,OAAIA,EAAMC,MAAMC,OAAOO,YCjD1C+B,GAAO1C,IAAOC,IAAV,gEAIJ0C,GAAc3C,IAAO4C,KAAV,2LASXC,GAAa7C,IAAO8C,SAAV,mKAKM,SAAA5C,GAAK,OAAIA,EAAMC,MAAMC,OAAOS,YAC5B,SAAAX,GAAK,OAAIA,EAAMC,MAAMC,OAAOC,QAE5C0C,GAAY/C,IAAO8C,SAAV,yIAKO,SAAA5C,GAAK,OAAIA,EAAMC,MAAMC,OAAOC,QAE5C2C,GAAchD,IAAOC,IAAV,iDAGXgD,GAAmBjD,IAAOC,IAAV,4JAShBiD,GAAclD,IAAOC,IAAV,wKAOXkD,GAAgBnD,IAAOC,IAAV,6CAGbmD,GAAcpD,IAAOC,IAAV,gDAGXoD,GAAerD,IAAOC,IAAV,qFAKZqD,GAActD,IAAOC,IAAV,0BACXsD,GAAUvD,IAAOC,IAAV,gPAab,SAASuD,GAAT,GAAuD,EAApCC,GAAqC,IAAjCC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QAC1C,OACE,eAACZ,GAAD,WACE,eAACC,GAAD,WACE,cAACG,GAAD,UAAeO,IACf,gCACA,cAACT,GAAD,UAAgBO,IAChB,cAACN,GAAD,UAAcO,UAGhB,cAACL,GAAD,UAAcO,OAIpB,IAAMC,GAAe9D,IAAOC,IAAV,2CA4FH8D,I,oCAAAA,GAzFf,WAEE,MAA8CC,mBAAS,MAAvD,mBAAOC,EAAP,KAAwBC,EAAxB,KACA,EAAgDF,mBAAS,MAAzD,mBAAOG,EAAP,KAAyBC,EAAzB,KACA,EAAwCJ,oBAAS,GAAjD,mBAAOK,EAAP,KAAqBC,EAArB,KAGA,EAAgCN,mBAAS,IAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KACA,EAAoCR,mBAAS,IAA7C,mBAAOS,EAAP,KAAmBC,EAAnB,KACA,EAAkCV,mBAAS,IAA3C,mBAAOW,EAAP,KAAkBC,EAAlB,KAGA,EAA0BzD,qBAAWxB,GAArC,EAAQyB,KAAR,EAAcC,QAGZwD,qBAAU,WACRC,MACC,IAEL,IAAMA,EAAiB,WACrBxD,IAAMO,IAAN,UAAa/B,EAAb,WACCgC,MAAK,SAACC,GACLyC,EAAYzC,EAASgD,SAEtBC,OAAM,SAACC,GACNf,EAAmBe,EAAIC,aAkBrBC,EAAsB,WAC1Bf,EAAoB,OAGtB,OACE,eAAC1B,GAAD,WACG2B,GAAgB,cAACd,GAAD,0CACjB,cAACrB,EAAD,qEACA,eAACS,GAAD,CAAayC,SAtBS,WACxBd,GAAgB,GAChBhD,IAAM+D,KAAN,UAAcvF,EAAd,gBAA4C,CAAC2E,aAAYE,cACxD7C,MAAK,SAACC,GACLC,QAAQC,IAAIF,GACZuC,GAAgB,GAChBQ,OAEDE,OAAM,SAAAC,GACLX,GAAgB,GAChBF,EAAoBa,EAAIC,aAYxB,UACE,cAACrC,GAAD,CACAyC,KAAM,EACNC,YAAa,8BACbC,SAAU,SAACC,GAAOf,EAAce,EAAEC,OAAOC,QACzCC,QAAST,IAET,cAACpC,GAAD,CACAuC,KAAM,GACNC,YAAa,8BACbC,SAAU,SAACC,GAAOb,EAAaa,EAAEC,OAAOC,QACxCC,QAAST,IAET,cAAC1C,GAAD,uCACC0B,GAAoB,cAACL,GAAD,UAAeK,OAErCF,GACD,eAACH,GAAD,oCACyBG,EAAgB4B,cAEzC,cAAC7C,GAAD,UACGuB,EAASuB,KAAI,SAAAZ,GAAO,OACnB,cAAC1B,GAAD,CAEAC,GAAIyB,EAAQzB,GACZC,OAAQwB,EAAQxD,SAChBkC,MAAOsB,EAAQtB,MACfC,QAASqB,EAAQa,KACjBpC,KAAM,IAAIqC,KAAKd,EAAQe,WAAWC,iBANlC,SAQChB,EAAQa,MAPJb,EAAQzB,a,SCrKjBF,GAAUvD,IAAOC,IAAV,kPAaPyC,GAAO1C,IAAOC,IAAV,kHAIY,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,OAAOC,QAE5C8F,GAAanG,IAAOC,IAAV,8CAGVmG,GAAcpG,IAAOqC,MAAV,qJAQXgE,GAAerG,IAAOwC,OAAV,yQASI,SAAAtC,GAAK,OAAIA,EAAMC,MAAMC,OAAOO,YAG1B,SAAAT,GAAK,OAAIA,EAAMC,MAAMC,OAAOkG,aAG9CC,GAAavG,IAAOC,IAAV,mKAQVuG,GAAexG,IAAOC,IAAV,4GAMZwG,GAAazG,IAAO0G,KAAV,sIAOVC,GAAO3G,IAAO0G,KAAV,uIAOJE,GAAa5G,IAAOC,IAAV,+GAKV4G,GAAO7G,IAAOC,IAAV,8BAEJ6G,GAAgB9G,YAAOyC,GAAPzC,CAAH,sEACR,SAAAE,GAAK,OAAIA,EAAMC,MAAMC,OAAOO,YACjB,SAAAT,GAAK,OAAIA,EAAMC,MAAMC,OAAOkG,aA8NnCS,OA5Nf,WAGE,MAAsC/C,oBAAS,GAA/C,mBAAOgD,EAAP,KAAoBC,EAApB,KAEA,EAAsCjD,mBAAS,IAA/C,mBAAOkD,EAAP,KAAoBC,EAApB,KACA,EAA4CnD,mBAAS,IAArD,mBAAOoD,EAAP,KAAuBC,EAAvB,KAEA,EAAwCrD,oBAAS,GAAjD,mBAAOsD,EAAP,KAAqBC,EAArB,KAEA,EAA4CvD,mBAAS,MAArD,mBAAOwD,EAAP,KAAuBC,EAAvB,KAEA,EAAsCzD,mBAAS,CAAC,CAC9C0D,KAAM,eACNC,KAAM,2BACNC,aAAc,GACdC,oBAAqB,MAJvB,mBAAOC,EAAP,KAAoBC,EAApB,KAOA,EAAgC/D,mBAAS,IAAzC,mBAAOgE,EAAP,KAAiBC,EAAjB,KAEA,EAAoCjE,oBAAS,GAA7C,mBAAOkE,EAAP,KAAmBC,EAAnB,KACA,EAAsCnE,oBAAS,GAA/C,mBAAOoE,EAAP,KAAoBC,EAApB,KACA,EAAwCrE,oBAAS,GAAjD,mBAAOsE,EAAP,KAAqBC,EAArB,KAEA,EAA4CvE,mBAAS,CAAC,CACpDP,GAAI,EACJ+E,KAAM,KACNC,MAAO,QAHT,mBAAOC,EAAP,KAAuBC,EAAvB,KAOMC,EAAQ,IAAI5C,KAGZ6C,EADY,IAAI7C,KADC4C,EAAQ,OAEFE,qBAGtBrF,EAAKsF,iBAAO,GAGnBlE,qBAAU,WACRmE,IACA,IAAMC,EAAQC,YAAW,WACvBjC,GAAe,KACd,KACH,OAAO,kBAAMkC,aAAaF,MACzB,IAEH,IAAMD,EAAe,WAEnBI,MJpI4B,6CIqI3BtH,MAAK,SAAAC,GACJ,OAAQA,EAASsH,UAElBvH,MAAM,SAAAiD,GACL,IAAMuE,EAAYvE,EAAKwE,UACvBvH,QAAQC,IAAIqH,GACZ,IAAME,EAAUC,OAAOC,OAAOJ,GAC9BtH,QAAQC,IAAIuH,GAEZnC,EAAkBmC,GAClBjC,GAAgB,MAGlB6B,MJjJyB,iDIkJxBtH,MAAK,SAAAC,GACJ,OAAOA,EAASsH,UAGjBvH,MAAK,SAAAiD,GACJ,IAAM4E,EAAK5E,EAAK6E,SAChB5H,QAAQC,IAAI0H,GACZxC,EAAewC,OA+EnB,OACE,gCACC3C,GAAe,cAAC,GAAD,mFACdA,GACF,8BACA,eAAC,GAAD,WACA,cAACb,GAAD,UACA,uBAAMf,SAlFa,WAEnB,GAAKkC,EAAL,CAKAa,GAAc,GACdJ,EAAe,IACfE,EAAY,IAEZ,IAAM4B,EAAoBzC,EAAe0C,QAAO,SAAAC,GAAS,OAAIA,EAAUpC,MAAQH,KACzEwC,EAAoB5C,EAAe0C,QAAO,SAAAC,GAAS,OAAIA,EAAUrC,MAAQF,KACzEyC,EAAiB/C,EAAY4C,QAAO,SAAAC,GAAS,OAAIA,EAAUrC,MAAQF,KACnE0C,EAAiBhD,EAAY4C,QAAO,SAAAC,GAAS,OAAIA,EAAUpC,MAAQH,KAEpB,IAA7BwC,EAAkBG,QAA6C,IAA7BN,EAAkBM,QAGxC,IAA7BH,EAAkBG,SACrBpC,EAAeiC,GACf/B,EAAYgC,IAEoB,IAA7BJ,EAAkBM,SACrBpC,EAAe8B,GACf5B,EAAYiC,MAGd/B,GAAc,GACdJ,EAAe,IACfE,EAAY,UA3BZI,GAAe,IA+EjB,UACE,cAACjC,GAAD,CACAb,YAAY,gEACZC,SAAU,SAACC,GAAD,OAAOgC,EAAkBhC,EAAEC,OAAOC,QAC5CC,QApDqB,WACvBuC,GAAc,GACdE,GAAe,MAoDb,cAAChC,GAAD,gCAGD6B,GAAc,kIACdE,GAAe,uHACdF,GACF,eAAC3B,GAAD,WACE,eAACC,GAAD,WACE,eAACC,GAAD,WACGqB,EAAYhC,KAAI,SAAAsE,GAAI,OAAIA,EAAKzC,QADhC,IACwCG,EAAYhC,KAAI,SAAAsE,GAAI,OAAIA,EAAK1C,WAErE,eAACf,GAAD,WAAO,4BAASkC,QAEhB,eAACjC,GAAD,WACE,eAACC,GAAD,WACE,6CACA,4BAAIiB,EAAYhC,KAAI,SAAAsE,GAAI,OAAIA,EAAKxC,qBAEnC,eAACf,GAAD,WACE,mDACA,4BAAIiB,EAAYhC,KAAI,SAAAsE,GAAI,OAAIA,EAAKvC,4BAEnC,eAAChB,GAAD,WACE,mDACA,4BAAImB,EAASlC,KAAI,SAAAsE,GAAI,OAAIA,EAAKC,gBAEhC,eAACxD,GAAD,WACE,mDACA,4BAAImB,EAASlC,KAAI,SAAAsE,GAAI,OAAIA,EAAKE,yBAGjChD,GACD,cAAC7E,GAAD,CAAab,QAvDE,WACnBI,QAAQC,IAAI6F,EAAY,GAAGJ,MAC3BpG,IAAM+D,KAAN,UAAcxF,EAAd,WAAkC,CAChC0K,UAAWzC,EAAY,GAAGJ,OACzB5F,MACD,SAAAC,GACEC,QAAQC,IAAI,mBAAoBF,OAiDhC,sCAECuF,GACD,cAACR,GAAD,CAAelF,QApFC,WAGpB,GAFA2G,GAAgB,GAEU,gBAAvBT,EAAY,GAAGJ,KAAlB,CAKA,IAAM8C,EAAS9B,EAAeoB,QAAO,SAAAM,GAAI,OAAIA,EAAK5B,MAAQV,EAAY,GAAGH,QACzE,GAAG6C,EAAOL,OAAS,EAGjB,OAFAnI,QAAQC,IAAIuI,QACZxI,QAAQC,IAAIyG,GAIdC,EAAkB,CAChB,CACElF,GAAIA,EAAGgH,QACPjC,KAAMV,EAAY,GAAGH,KACrBc,MAAOX,EAAY,GAAGF,eAJT,oBAMTc,KAERjF,EAAGgH,eAnBDlC,GAAgB,IAgFd,yCAIHD,GAAgB,oGAChBI,EAAeoB,QAAO,SAAAM,GAAI,OAAIA,EAAK3G,GAAK,KAAGqC,KAAI,SAAAsE,GAAI,OAClD,cAAC7D,GAAD,UACE,cAACC,GAAD,UACE,eAACC,GAAD,WACC2D,EAAK5B,KADN,IACa4B,EAAK3B,yBC/QbiC,OAtBf,WAEE,MAAgC1G,mBAAS,IAAzC,mBAAO2G,EAAP,KAAiBC,EAAjB,KAYA,OACE,gCACA,sEACA,wBAAQhJ,QAbO,WACfN,IAAMO,IAAN,UAAahC,EAAb,YAAiCiC,MACjC,SAACC,GACC,IAAM8I,EAAY9I,EAASgD,KACrB+F,EAAcD,EAAU/E,KAAI,SAAAsE,GAAI,OAAIA,EAAKW,cAC/C/I,QAAQC,IAAI6I,GACZF,EAAYC,OAOd,kDACCF,EAAS7E,KAAI,SAAAsE,GAAI,OAAI,6BAAKA,EAAKW,oBC6BrBC,OA/Cf,WACA,MAAsChH,mBAAS,IAA/C,mBAAOiH,EAAP,KAAoBC,EAApB,KACA,EAAsClH,mBAAS,IAA/C,mBAAOmH,EAAP,KAAoBC,EAApB,KACA,EAA0BjK,qBAAWxB,GAAvB0B,GAAd,EAAQD,KAAR,EAAcC,SAuBZ,OArBFC,IAAMC,SAASC,iBAAkB,EAWjCqD,qBAAU,WACRvD,IAAMO,IAAN,UAAahC,EAAb,WACCiC,MAAK,SAACC,GACLC,QAAQC,IAAIF,EAASgD,KAAK3D,MACvBW,EAASgD,KAAK3D,MACfC,EAAQU,EAASgD,KAAK3D,KAAK,SAG9B,IAGC,qBAAKiK,UAAU,MAAf,SACE,sBAAKA,UAAU,eAAf,UACE,cAACnJ,EAAD,2BACE,cAACI,EAAD,2BACA,cAACF,EAAD,CACEkJ,KAAK,OACL/F,YAAY,0CACZC,SAAU,SAACC,GAAD,OAAOyF,EAAezF,EAAEC,OAAOC,UAE3C,cAACrD,EAAD,2BACA,cAACF,EAAD,CACEkJ,KAAK,OACL/F,YAAY,0CACZC,SAAU,SAACC,GAAD,OAAO2F,EAAe3F,EAAEC,OAAOC,UAE3C,cAACpD,GAAD,CAAcX,QAnCD,WACrBN,IAAM+D,KAAN,UAAcxF,EAAd,aAAoC,CAClC6B,SAAUuJ,EACVM,SAAUJ,IACTrJ,MAAK,SAACC,QA+BD,4CCwBKiJ,I,MAAAA,GAlEf,WACA,MAAgChH,mBAAS,IAAzC,mBAAOtC,EAAP,KAAiB8J,EAAjB,KACA,EAAgCxH,mBAAS,IAAzC,mBAAOuH,EAAP,KAAiBE,EAAjB,KAEA,EAA8CzH,mBAAS,IAAvD,mBAAO0H,EAAP,KAAwBC,EAAxB,KAEA,EAA0BxK,qBAAWxB,GAA7ByB,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAEdC,IAAMC,SAASC,iBAAkB,EAEjC,IAgBMoK,EAAiB,WACrBD,EAAmB,KAcnB,OAVF9G,qBAAU,WACRvD,IAAMO,IAAN,UAAahC,EAAb,WACCiC,MAAK,SAACC,GACLC,QAAQC,IAAIF,EAASgD,KAAK3D,MACvBW,EAASgD,KAAK3D,MACfC,EAAQU,EAASgD,KAAK3D,KAAK,SAG9B,IAGC,qBAAKiK,UAAU,MAAf,SACE,sBAAKA,UAAU,QAAf,UACA,cAACnJ,EAAD,2BACI,cAACI,EAAD,2BACA,cAACF,EAAD,CACEkJ,KAAK,OACL/F,YAAY,0CACZC,SAAU,SAACC,GAAD,OAAO+F,EAAY/F,EAAEC,OAAOC,QACtCC,QAASgG,IAEX,cAACtJ,EAAD,2BACA,cAACF,EAAD,CACEkJ,KAAK,OACL/F,YAAY,0CACZC,SAAU,SAACC,GAAD,OAAOgG,EAAYhG,EAAEC,OAAOC,QACtCC,QAASgG,IAEX,cAACrJ,GAAD,CAAcX,QAjDJ,WAClBN,IAAM+D,KAAN,UAAcxF,EAAd,UAAiC,CAC/B6B,SAAUA,EACV6J,SAAUA,GACT,CACDM,QAAS,CAAC,eAAgB,qCACzB/J,MAAK,SAACC,GACHA,EAASgD,KAAKG,QAChByG,EAAmB5J,EAASgD,KAAKG,UAEjClD,QAAQC,IAAIF,GACZV,EAAQU,EAASgD,KAAK,SAsClB,wCACF,6BAAK2G,IACJtK,GAAQ,gEAAUA,EAAKM,kBCnD1BoK,I,MAAO9L,IAAOC,IAAV,qDAIJ8L,GAAcC,YAAH,yEAEO,SAAA9L,GAAK,OAAIA,EAAMC,MAAMC,OAAOC,QA6CrC4L,OAzCf,WACA,MAAwBjI,mBAAS,MAAjC,mBAAO5C,EAAP,KAAaC,EAAb,KAYA,OAXAC,IAAMC,SAASC,iBAAkB,EAGjCqD,qBAAU,WACRvD,IAAMO,IAAN,UAAa/B,EAAb,WACCgC,MAAK,SAACC,GACFA,EAASgD,KAAK3D,MACfC,EAAQU,EAASgD,KAAK3D,KAAK,SAG9B,IAED,eAACzB,EAAYuM,SAAb,CAAsBvG,MAAO,CAACvE,OAAMC,WAApC,UACA,cAAC0K,GAAD,IACA,cAACD,GAAD,UACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOK,OAAK,EAACC,KAAK,IAAlB,SACE,cAACC,GAAD,MAEF,cAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,UAAlB,SACE,cAACE,GAAD,MAEF,cAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,YAAlB,SACE,cAACG,GAAD,MAEF,cAAC,IAAD,CAAOJ,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,GAAD,kBC/CKI,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5K,MAAK,YAAkD,IAA/C6K,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCSdO,IAASC,OACP,cAAC,IAAD,CAAe9M,MAVH,CACZC,OAAQ,CACNO,SAAU,UACV2F,UAAW,UACXjG,KAAM,UACNQ,SAAU,YAKZ,SACE,cAAC,IAAMqM,WAAP,UACE,cAAC,GAAD,QAIJC,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.9d265b60.chunk.js","sourcesContent":["import { createContext } from \"react\";\nexport const AuthContext = createContext(null);","// API-網站系統\nexport  const API_LOCAL = \"http://localhost:3001\"\nexport const API_PRODUCTION = \"https://lit-earth-99012.herokuapp.com\"\n\n// API-股票資訊\nexport const API_STOCK_LOCAL = \"http://192.168.64.4/api_stock\"\nexport const API_STOCK_REMOTE = \"http://mentor-program.co/mtr04group1/lucktanya33/stock\"\n\n// API-股票資訊HEROKU\nexport const API_HEROKU_PRICE = \"https://secure-brook-06568.herokuapp.com/\"\nexport const API_HEROKU_PE = \"https://tranquil-thicket-64578.herokuapp.com/\"","import { useContext } from \"react\"\nimport Axios from \"axios\";\nimport styled from \"styled-components\"\nimport { Link, useLocation } from \"react-router-dom\";\nimport { AuthContext } from './context'\nimport { API_PRODUCTION } from \"./utils\";\n\n// styles\nconst HeaderContainer = styled.div`\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  background-color:${props => props.theme.colors.grey};\n  box-sizing: border-box;\n`\nconst NavbarList = styled.div`\n  display: flex;\n  align-items: center;\n`\nconst LeftContainer = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${NavbarList} {\n    margin-left: 64px;\n  }\n`\nconst Nav = styled(Link)`\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  font-size: 16px;\n\n  ${(props) => \n    props.$active && \n    `\n    background: ${props => props.theme.colors.darkBlue};\n    `}\n`\n\nconst Brand = styled(Link)`\n  width: 120px;\n  padding: 10px; \n  font-size: 26px;\n  font-weight: bold;\n  color: ${props => props.theme.colors.darkGrey};\n  text-decoration: none;\n\n`\nconst LoginHint = styled.div`\n  width: 24%;\n  padding: 5px; \n  height: 40px;\n  color: ${props => props.theme.colors.darkBlue};\n  font-size: 14px;\n  font-weight: bolder;\n  box-sizing: border-box;\n`\nconst LogOut = styled.div`\n  padding: 10px;\n  height: 64px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  font-size: 16px;\n\n  ${(props) => \n    props.$active && \n    `\n    background: ${props => props.theme.colors.darkBlue};\n    `}\n`\n\nfunction Header() {\n  // React router USAGE\n  const location = useLocation()//location.pathname可以知道現在點擊的路徑\n  const { user, setUser } = useContext(AuthContext)\n  Axios.defaults.withCredentials = true\n  \n  // functions\n  const handleLogOut = () => {\n    setUser(null)\n    Axios.get(`${API_PRODUCTION}/logout`)\n    .then((response) => {\n      console.log('GET LOGOUT', response)\n    })\n  }\n  return (\n    <HeaderContainer>\n    <LeftContainer>\n    <Brand to=\"/\">玩股喵</Brand>\n    <LoginHint>\n    {user ? ('你好 '+ user.username) : \"請登入\"}\n    </LoginHint>\n    <NavbarList>    \n      <Nav to=\"/\" $active={location.pathname === '/'}>討論</Nav>\n      <Nav to=\"/search\" $active={location.pathname === '/search'}>查詢</Nav>\n    </NavbarList>\n    </LeftContainer>\n    <NavbarList>\n      {!user && (\n        <Nav to=\"/register\" $active={location.pathname === '/register'}>註冊</Nav>\n      )}      \n      {!user && (\n        <Nav to=\"/login\" $active={location.pathname === '/login'}>登入</Nav>\n      )}\n      {user && (       \n      <Nav to=\"/profile\" $active={location.pathname === '/profile'}>個人</Nav>\n      )}      \n      {user && (       \n        <LogOut onClick={handleLogOut}>登出</LogOut>\n      )}\n    </NavbarList>\n    </HeaderContainer>\n  )\n}\n\nexport default Header;\n","import styled from \"styled-components\"\n\nexport const TitlePage = styled.h1`\ncolor: ${props => props.theme.colors.darkGrey};\nmargin: 30px;\n`\n\nexport const Input = styled.input`\nwidth: 75%;\nheight: 50px;\nmargin: 0px 3px 8px 3px;\nfont-size: 20px;\nborder: 0px;\nborder-radius: 8px;\n`\nexport const InputTitle = styled.div`\ndisplay: flex;\njustify-content: center;\nwidth: 75%;\nheight: 40px;\nmargin: 0 auto;\nfont-size: 20px;\nfont-weight: bolder;\nborder: 0px;\nborder-radius: 8px;\ncolor: ${props => props.theme.colors.darkGrey};\n`\n\nexport const ButtonSubmit = styled.button`\nwidth: 78%;\nmargin: 40px 2px 20px 2px;\nheight: 50px;\nborder-radius: 8px;\ntext-align: center;\ncursor: pointer;\ncolor: white;\nfont-size: 20px;\nfont-weight: bolder;\nborder: 0px;\nbackground-color: ${props => props.theme.colors.darkBlue};\n\n: hover {\n  color: ${props => props.theme.colors.darkBlue};\n  background-color: white;\n}\n`\nexport const ButtonSmall = styled.button`\ncursor: pointer;\nwidth: 30%;\nmargin: 0px 5px 10px 5px;\nheight: 35px;\nborder-radius: 8px;\ntext-align: center;\ncursor: pointer;\ncolor: white;\nfont-weight: bolder;\nborder: none;\nbackground-color: ${props => props.theme.colors.darkBlue};\n`","import React, { useState, useEffect, useContext } from \"react\"\nimport Axios from \"axios\";\nimport styled from \"styled-components\"\nimport { API_PRODUCTION } from \"../utils\";\nimport { AuthContext } from \"../context\"\nimport { ButtonSmall, TitlePage } from \"../StyleComponents\";\n\n// styled components\nconst Page = styled.div`\n  width: 360px;\n  margin: 0 auto;\n`\nconst MessageForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 350px;\n  margin-top: 16px;\n  border-radius: 8px;\n  background-color: white;\n`\nconst TitleInput = styled.textarea`\n  width: 80%;\n  margin-top: 20px;\n  margin-bottom: 10px;\n  border-radius: 8px;\n  border: 1px solid ${props => props.theme.colors.darkGrey};\n  background-color: ${props => props.theme.colors.grey};\n`\nconst BodyInput = styled.textarea`\n  width: 80%;\n  margin-top: 10px;\n  margin-bottom: 20px;\n  border-radius: 8px;\n  background-color: ${props => props.theme.colors.grey};\n`\nconst MessageList = styled.div`\n  margin-top: 16px;\n`\nconst MessageContainer = styled.div`\n  border-radius: 8px;\n  padding: 8px 16px;\n  background-color: white;\n\n  &:not(:first-child) {\n    margin-top: 12px;\n  }\n`\nconst MessageHead = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid lightgrey;\n  padding-bottom: 4px;\n`\nconst MessageAuthor = styled.div`\n  color: black;\n`\nconst MessageTime = styled.div`\n  font-size: 12px;\n`\nconst MessageTitle = styled.div`\n  width: 55%;\n  font-weight: bold;\n  font-size: 20px;\n`\nconst MessageBody = styled.div``\nconst Loading = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\nfunction Message({ id, author, time, title, content }) {\n  return(\n    <MessageContainer>\n      <MessageHead>\n        <MessageTitle>{title}</MessageTitle>\n        <div>\n        <MessageAuthor>{author}</MessageAuthor>\n        <MessageTime>{time}</MessageTime>\n        </div>\n      </MessageHead>\n      <MessageBody>{content}</MessageBody>\n    </MessageContainer>\n  )\n}\nconst ErrorMessage = styled.div`\n  color: red;\n`\nfunction HomePage() {\n  // States\n  const [messageApiError, setMessageApiError] = useState(null)\n  const [postMessageError, setPostMessageError] = useState(null)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  // states2 \n  const [messages, setMessages] = useState([])\n  const [inputTitle, setInputTitle] = useState('')\n  const [inputBody, setInputBody] = useState('')\n  \n  // contexts\n  const { user, setUser } = useContext(AuthContext)\n\n    // useEffect-render 完成之後串 API 拿資料\n    useEffect(() => {\n      updateMessages()\n    }, [])\n  \n  const updateMessages = () => {\n    Axios.get(`${API_PRODUCTION}/posts`)\n    .then((response) => {\n      setMessages(response.data)\n    })\n    .catch((err) => {\n      setMessageApiError(err.message)\n    })\n  }\n\n  const handleFormSubmit2 = () => {\n    setIsSubmitting(true)\n    Axios.post(`${API_PRODUCTION}/create-post`, {inputTitle, inputBody})\n    .then((response) => {\n      console.log(response);\n      setIsSubmitting(false)\n      updateMessages()\n    })\n    .catch(err => {\n      setIsSubmitting(false)\n      setPostMessageError(err.message)\n    })\n  }\n\n  const handleTextareaFocus = () => {// onFocus游標移過去textarea框框時要做的事\n    setPostMessageError(null)\n  }\n\n  return (\n    <Page>\n      {isSubmitting && <Loading>正在送出...</Loading>}\n      <TitlePage>發表你對股市的看法</TitlePage>\n      <MessageForm onSubmit={handleFormSubmit2}>\n        <TitleInput\n        rows={3}\n        placeholder={\"輸入標題...\"}\n        onChange={(e) => {setInputTitle(e.target.value)}}\n        onFocus={handleTextareaFocus}        \n        />\n        <BodyInput\n        rows={10}\n        placeholder={\"輸入內容...\"}\n        onChange={(e) => {setInputBody(e.target.value)}}\n        onFocus={handleTextareaFocus}\n        />\n        <ButtonSmall>送出留言</ButtonSmall>\n        {postMessageError && <ErrorMessage>{postMessageError}</ErrorMessage>}\n      </MessageForm>\n      {messageApiError && (\n      <ErrorMessage>\n        Something went wrong: {messageApiError.toString()}\n      </ErrorMessage>)}\n      <MessageList>\n        {messages.map(message => (\n          <Message\n          key={message.id}\n          id={message.id}\n          author={message.username}\n          title={message.title}\n          content={message.body}\n          time={new Date(message.createdAt).toLocaleString()}\n          >\n          {message.body}\n          </Message>\n        ))}\n      </MessageList>\n    </Page>\n  );\n}\n\nexport default HomePage;\n","import { useState, useEffect, useContext, useRef } from 'react'\nimport Axios from 'axios'\nimport styled from \"styled-components\"\nimport { API_STOCK_LOCAL, API_STOCK_REMOTE, API_HEROKU_PRICE, API_HEROKU_PE, API_LOCAL } from '../utils'\nimport { ButtonSmall } from '../StyleComponents'\n\nconst Loading = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\nconst Page = styled.div`\n  width: 360px;\n  margin: 0 auto;\n  padding-top: 35px;\n  background-color: ${props => props.theme.colors.grey};\n`\nconst SearchArea = styled.div`\n  width: 100%;\n`\nconst SearchInput = styled.input`\n  width: 75%;\n  height: 50px;\n  margin: 0px 3px 0px 3px;\n  font-size: 20px;\n  border: 0px;\n  border-radius: 8px;\n`\nconst SearchButton = styled.button`\n  width: 13%;\n  margin: 0px 3px 0px 3px;\n  height: 40px;\n  cursor: pointer;\n  color: white;\n  font-weight: bolder;\n  border: none;\n  border-radius: 8px;\n  background-color: ${props => props.theme.colors.darkBlue};\n\n  : hover {\n    background-color: ${props => props.theme.colors.vividBlue};\n  }\n`\nconst TargetWrap = styled.div`\n  width: 100%;\n  margin-top: 20px;\n  padding: 10px;\n  border-radius: 8px;\n  background-color: white;\n  box-sizing: border-box;\n`\nconst TargetHeader = styled.div`\n  display: flex;\n  width: 100%;\n  padding: 5px;\n  box-sizing: border-box;\n`\nconst TargetName = styled.span`\n  width: 60%;\n  padding: 0px 5px 0px 5px;\n  font-size : 28px;\n  font-weight: bold;\n  color: black;\n`\nconst Time = styled.span`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 40%;\n  font-size: 14px;\n`\nconst TargetInfo = styled.div`\n  padding: 0px 5px 0px 5px;\n  display: flex;\n  justify-content: space-around;\n`\nconst Info = styled.div`\n`\nconst ButtonCompare = styled(ButtonSmall)`\n  color: ${props => props.theme.colors.darkBlue};\n  background-color: ${props => props.theme.colors.vividBlue}\n`\nfunction HotStockPage() {\n  // states\n  // 載入頁面\n  const [LoadingPage, setLoadingPage] = useState(true)\n  // API拿到的資料\n  const [stockInfoPE, setStockInfoPE] = useState([])\n  const [stockInfoPrice, setStockInfoPrice] = useState([])\n  // 確認載入資料\n  const [isInfoLoaded, setIsInfoLoaded] = useState(false)\n  // 查詢-輸入中\n  const [stockSearching, setStockSearching] = useState(null)\n  // 查詢-結果\n  const [targetPrice, setTargetPrice] = useState([{\n    Code: \"代號\",\n    Name: \"股票名稱\",\n    ClosingPrice: '',\n    MonthlyAveragePrice: ''\n    }\n  ])\n  const [targetPE, setTargetPE] = useState([])\n  // 錯誤提醒\n  const [searchFail, setSearchFail] = useState(false)\n  const [searchDelay, setSearchDelay] = useState(false)\n  const [errorCompare, setErrorCompare] = useState(false)\n  // 比較\n  const [comparedTarget, setComparedTarget] = useState([{\n    id: 0,\n    name: null,\n    price: null\n  }])\n\n  // 設定時間\n  const today = new Date()\n  const countYesterday = today - 1000*60*60*24\n  const yesterday = new Date(countYesterday)\n  const latestTime = yesterday.toLocaleDateString()\n\n   //設定id\n   const id = useRef(1)\n\n  // useEffect (每次render先串API拿資料存到states)\n  useEffect(() => {\n    setStockInfo()\n    const timer = setTimeout(() => {\n      setLoadingPage(false)//拿掉loading畫面\n    }, 4000);\n    return () => clearTimeout(timer);\n  }, [])\n\n  const setStockInfo = () => {\n    // 拿資料-價格\n    fetch(API_HEROKU_PRICE)// `${API_STOCK_REMOTE}/price.php`\n    .then(response =>{\n      return  response.json()\n    })\n    .then( data =>{\n      const dataPrice = data.stock_new\n      console.log(dataPrice)\n      const toArray = Object.values(dataPrice)\n      console.log(toArray)\n      // const price = dataPrice.filter(item => item.Code < 10000)//拿出權證以外的資料\n      setStockInfoPrice(toArray)\n      setIsInfoLoaded(true)\n    })\n    // 拿資料-本益比\n    fetch(API_HEROKU_PE)\n    .then(response => {\n      return response.json()\n      \n    })\n    .then(data => {\n      const PE = data.stock_pe\n      console.log(PE);\n      setStockInfoPE(PE)\n    })\n  }\n\n  const handleSearch = () => {\n    // 資料未載入完\n    if (!isInfoLoaded) {\n      setSearchDelay(true)\n      return\n    }\n    // 清空\n    setSearchFail(false)\n    setTargetPrice([])\n    setTargetPE([])\n    // searching\n    const targetPriceByName = stockInfoPrice.filter(stockItem => stockItem.Name == stockSearching)\n    const targetPriceByCode = stockInfoPrice.filter(stockItem => stockItem.Code == stockSearching)\n    const targetPEByCode = stockInfoPE.filter(stockItem => stockItem.Code == stockSearching)\n    const targetPEByName = stockInfoPE.filter(stockItem => stockItem.Name == stockSearching)\n    // 查詢邏輯\n    const validSearching = (targetPriceByCode.length !== 0 || targetPriceByName.length !== 0)\n    if (validSearching) {\n      // 查詢目標資訊\n      if ( targetPriceByCode.length !== 0) {\n        setTargetPrice(targetPriceByCode)\n        setTargetPE(targetPEByCode)\n      }\n      if ( targetPriceByName.length !== 0) {\n        setTargetPrice(targetPriceByName)\n        setTargetPE(targetPEByName)\n      }\n    } else {\n      setSearchFail(true)\n      setTargetPrice([])\n      setTargetPE([])\n    }\n  }\n\n  const clearSearchError = () => {\n    setSearchFail(false)\n    setSearchDelay(false)\n  }\n\n  const handleCompare = () => {\n    setErrorCompare(false)\n    // 錯誤-無查詢資料加入比較\n    if(targetPrice[0].Code == \"代號\") {\n      setErrorCompare(true)\n      return\n    }\n    // 預防-重複加入比較\n    const repeat = comparedTarget.filter(item => item.name == targetPrice[0].Name)\n    if(repeat.length > 0) {\n      console.log(repeat);\n      console.log(comparedTarget);\n      return\n    }\n    // 加入比較\n    setComparedTarget([\n      {\n        id: id.current,\n        name: targetPrice[0].Name,\n        price: targetPrice[0].ClosingPrice\n\n      }, ...comparedTarget\n    ])\n    id.current++\n  }\n\n  const handleAddFav = () => {\n    console.log(targetPrice[0].Code);\n    Axios.post(`${API_LOCAL}/my-fav`, {\n      stockCode: targetPrice[0].Code\n    }).then(\n      response => {\n        console.log('post my fav code', response);\n      }\n    )\n  }\n  return (\n    <div>\n    {LoadingPage && <Loading>正在幫您載入1102檔台股中...</Loading>}\n    {!LoadingPage && (\n    <div> \n    <Page>\n    <SearchArea>\n    <form onSubmit={handleSearch}>\n      <SearchInput\n      placeholder=\"輸入上市股票名稱/代號\"\n      onChange={(e) => setStockSearching(e.target.value)}\n      onFocus={clearSearchError}\n      />\n      <SearchButton>查詢</SearchButton>\n    </form>\n    </SearchArea>\n    {searchFail && <h2>無效的查詢，請輸入正確代號或名稱</h2>}\n    {searchDelay && <h2>資料庫有點延遲，再查詢一次！</h2>}\n    {!searchFail && (\n    <TargetWrap>\n      <TargetHeader>\n        <TargetName>\n          {targetPrice.map(item => item.Name)} {targetPrice.map(item => item.Code)}\n        </TargetName>\n        <Time>{\"更新時間 \"}{latestTime}</Time>\n      </TargetHeader>\n        <TargetInfo>\n          <Info>\n            <p>股價</p>\n            <p>{targetPrice.map(item => item.ClosingPrice)}</p>\n          </Info>\n          <Info>\n            <p>月均價</p>\n            <p>{targetPrice.map(item => item.MonthlyAveragePrice)}</p>\n          </Info>\n          <Info>\n            <p>本益比</p>\n            <p>{targetPE.map(item => item.PEratio)}</p>\n          </Info>\n          <Info>\n            <p>殖利率</p>\n            <p>{targetPE.map(item => item.DividendYield)}</p>\n          </Info>\n        </TargetInfo>\n        {isInfoLoaded && (\n        <ButtonSmall onClick={handleAddFav}>加入追蹤</ButtonSmall>\n        )}\n        {isInfoLoaded && (\n        <ButtonCompare onClick={handleCompare}>加入比較</ButtonCompare>\n        )}\n    </TargetWrap>\n    )}\n    {errorCompare && <h2>查詢股票後再加入比較！</h2>}\n    {comparedTarget.filter(item => item.id > 0).map(item =>\n      <TargetWrap>\n        <TargetHeader>\n          <TargetName>\n          {item.name} {item.price}\n          </TargetName>\n        </TargetHeader>\n      </TargetWrap>\n    )}\n    </Page>\n    </div>    \n    )}\n    </div>\n  )\n}\nexport default HotStockPage;\n","import { useState, useEffect, useContext } from 'react'\nimport Axios from 'axios'\nimport { API_LOCAL } from './../utils'\nimport { AuthContext } from './../context'\n\n\nfunction ProfilePage() {\n  // states\n  const [favStock, setFavStock] = useState([])\n\n  const getMyFav = () => {\n    Axios.get(`${API_LOCAL}/my-fav`).then(\n    (response) => {\n      const dataArray = response.data\n      const favStockAPI = dataArray.map(item => item.stock_code)\n      console.log(favStockAPI);\n      setFavStock(dataArray)\n    })\n  }\n\n  return (\n    <div>\n    <h1>我的最愛股票</h1>\n    <button onClick={getMyFav}>拿到最愛股票</button>\n    {favStock.map(item => <h3>{item.stock_code}</h3>)}\n    </div>\n  )\n}\nexport default ProfilePage;\n","import { useState, useEffect, useContext } from 'react'\nimport Axios from 'axios'\nimport { API_LOCAL } from '../utils'\nimport { AuthContext } from '../context'\nimport { ButtonSubmit, Input, InputTitle, TitlePage } from '../StyleComponents'\n\nfunction LoginPage() {\nconst [usernameReg, setUsernameReg] = useState([])\nconst [passwordReg, setPasswordReg] = useState([])\nconst { user, setUser } = useContext(AuthContext)\n\nAxios.defaults.withCredentials = true\n\nconst handleRegister = () => {\n  Axios.post(`${API_LOCAL}/register`, {\n    username: usernameReg,\n    password: passwordReg\n  }).then((response) => {\n  })\n}\n\n// 拿到登入狀態\nuseEffect(() => {\n  Axios.get(`${API_LOCAL}/login`)\n  .then((response) => {\n    console.log(response.data.user)\n    if(response.data.user) {\n      setUser(response.data.user[0])\n    }\n  })\n}, [])\n\n  return (\n    <div className=\"App\">\n      <div className=\"registration\">\n        <TitlePage>註冊</TitlePage>\n          <InputTitle>帳號</InputTitle>\n          <Input\n            type=\"text\"\n            placeholder=\"輸入你的帳號...\"\n            onChange={(e) => setUsernameReg(e.target.value)}\n            />\n          <InputTitle>密碼</InputTitle>\n          <Input\n            type=\"text\"\n            placeholder=\"輸入你的密碼...\"\n            onChange={(e) => setPasswordReg(e.target.value)}\n          />\n          <ButtonSubmit onClick={handleRegister}>立即註冊</ButtonSubmit> \n      </div>   \n    </div>\n  );\n}\nexport default LoginPage;\n","import { useState, useEffect, useContext } from 'react'\nimport Axios from 'axios'\nimport { API_LOCAL } from '../utils'\nimport { AuthContext } from '../context'\nimport { ButtonSubmit, Input, InputTitle, TitlePage } from '../StyleComponents'\n\nfunction LoginPage() {\nconst [username, setUsername] = useState([])\nconst [password, setPassword] = useState([])\n\nconst [errMessageLogin, setErrMessageLogin] = useState('')\n\nconst { user, setUser } = useContext(AuthContext)\n\nAxios.defaults.withCredentials = true\n\nconst handleLogin = () => {\n  Axios.post(`${API_LOCAL}/login`, {\n    username: username,\n    password: password\n  }, {\n    headers: {\"Content-Type\": \"application/json; charset=utf-8\"}\n  }).then((response) => {\n    if (response.data.message) {\n      setErrMessageLogin(response.data.message)\n    } else {\n      console.log(response);\n      setUser(response.data[0])\n    }\n  })\n}\n\nconst clearErrorHint = () => {\n  setErrMessageLogin('')\n}\n\n// 拿到登入狀態\nuseEffect(() => {\n  Axios.get(`${API_LOCAL}/login`)\n  .then((response) => {\n    console.log(response.data.user)\n    if(response.data.user) {\n      setUser(response.data.user[0])\n    }\n  })\n}, [])\n\n  return (\n    <div className=\"App\">\n      <div className=\"login\">\n      <TitlePage>登入</TitlePage>\n          <InputTitle>帳號</InputTitle>\n          <Input\n            type=\"text\"\n            placeholder=\"輸入你的帳號...\"\n            onChange={(e) => setUsername(e.target.value)}\n            onFocus={clearErrorHint}          \n            />\n          <InputTitle>密碼</InputTitle>\n          <Input\n            type=\"text\"\n            placeholder=\"輸入你的密碼...\"\n            onChange={(e) => setPassword(e.target.value)} \n            onFocus={clearErrorHint}           \n            />\n          <ButtonSubmit onClick={handleLogin}> 立刻登入 </ButtonSubmit> \n        <h1>{errMessageLogin}</h1>\n        {user && <h1>登入狀態：{user.username}</h1>}\n      </div>    \n    </div>\n  );\n}\nexport default LoginPage;\n","import { useState, useEffect } from \"react\"\nimport { HashRouter as Router, Switch, Route, useParams } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport styled from \"styled-components\";\nimport Header from \"./Header\";\nimport DiscussPage from \"./pages/DiscussPage\";\nimport SearchPage from \"./pages/SearchPage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport RegisterPage  from './pages/RegisterPage';\nimport LoginPage  from './pages/LoginPage';\nimport './App.css';\nimport { API_PRODUCTION } from \"./utils\";\nimport { AuthContext } from \"./context\";\nimport { createGlobalStyle } from 'styled-components'\n\n// styles\nconst Root = styled.div`\n  padding-top: 64px;\n`\n// 設定html body 底色\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background-color: ${props => props.theme.colors.grey};\n  }\n`\n\nfunction App() {\nconst [user, setUser] = useState(null)\nAxios.defaults.withCredentials = true\n\n// 拿到登入狀態\nuseEffect(() => {\n  Axios.get(`${API_PRODUCTION}/login`)\n  .then((response) => {\n    if(response.data.user) {\n      setUser(response.data.user[0])\n    }\n  })\n}, [])\nreturn (\n  <AuthContext.Provider value={{user, setUser}}>\n  <GlobalStyle />\n  <Root>\n    <Router>\n      <Header />\n      <Switch>   \n        <Route exact path=\"/\">\n          <DiscussPage />\n        </Route>\n        <Route exact path=\"/search\">\n          <SearchPage />\n        </Route>\n        <Route exact path=\"/profile\">\n          <ProfilePage />\n        </Route>\n        <Route exact path=\"/register\">\n          <RegisterPage />\n        </Route>                      \n        <Route exact path=\"/login\">\n          <LoginPage />\n        </Route>     \n      </Switch>\n    </Router>\n  </Root>\n  </AuthContext.Provider>\n);\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { ThemeProvider } from \"styled-components\"\n\nconst theme = {\n  colors: {\n    darkBlue: \"#4F62C0\",\n    vividBlue: \"#ADEAF1\",\n    grey: \"#F8F7FC\",\n    darkGrey: \"#383E5A\"\n  }\n}\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </ThemeProvider>,\n\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}